{"version":3,"file":"../bundle.min.js","mappings":"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EF,WAAW,CAAC;MACnD,OAAO,KAAK;IAChB,CAAC,CAAC;EACN;EACAF,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC;EAErB,SAASQ,aAAaA,CAAA,EAAE;IACpBT,CAAC,CAAC5hB,QAAQ,CAAC,CAACuK,EAAE,CAAC,OAAO,EAAE,6BAA6B,EAAE,UAAU2D,KAAK,EAAE;MACpEA,KAAK,CAACoU,cAAc,CAAC,CAAC;MACtB;MACA,IAAIC,MAAM,GAAGX,CAAC,CAAC,IAAI,CAAC,CAACY,IAAI,CAAC,UAAU,CAAC;MACrC,IAAID,MAAM,EAAE;QACRE,UAAU,GAAGF,MAAM;MACvB,CAAC,MAAM;QACHE,UAAU,GAAG,CAAC;MAClB;MACA,IAAIb,CAAC,CAACA,CAAC,CAACY,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAACriB,MAAM,GAAG,CAAC,EAAE;QACpCyhB,CAAC,CAAC,YAAY,CAAC,CAACQ,OAAO,CAAC;UACpBH,SAAS,EAAEL,CAAC,CAACA,CAAC,CAACY,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAACE,MAAM,CAAC,CAAC,CAAC7C,GAAG,GAAG4C;QACtD,CAAC,EAAE,GAAG,CAAC;MACX;IACJ,CAAC,CAAC;EACN;EACAJ,aAAa,CAAC,CAAC;;EAEf;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACH;EACA;EACA;EACG;EACH;EACA;EACG;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACH;EACG;EACA;EACH;EACA;EACA;EACA;EACA;EACA;EACG;EACA;EACH;EACA;EACA;EACA;EACA;EACA;EACG;EACH;AAED,CAAC,CAAC;;;;;;;;;;AC5UF;AACA,CAAC,UAAS9hB,CAAC,EAAC;EAAC,UAAU,IAAE,OAAOA,CAAC,CAACoiB,OAAO,KAAGpiB,CAAC,CAACoiB,OAAO,GAACpiB,CAAC,CAACqiB,iBAAiB,IAAEriB,CAAC,CAACsiB,kBAAkB,IAAEtiB,CAAC,CAACuiB,qBAAqB,IAAE,UAASviB,CAAC,EAAC;IAAC,KAAI,IAAIwiB,CAAC,GAAC,IAAI,EAACC,CAAC,GAAC,CAACD,CAAC,CAAC/iB,QAAQ,IAAE+iB,CAAC,CAACE,aAAa,EAAEhjB,gBAAgB,CAACM,CAAC,CAAC,EAACkN,CAAC,GAAC,CAAC,EAACuV,CAAC,CAACvV,CAAC,CAAC,IAAEuV,CAAC,CAACvV,CAAC,CAAC,KAAGsV,CAAC,GAAE,EAAEtV,CAAC;IAAC,OAAOyV,OAAO,CAACF,CAAC,CAACvV,CAAC,CAAC,CAAC;EAAA,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOlN,CAAC,CAAC8N,OAAO,KAAG9N,CAAC,CAAC8N,OAAO,GAAC,UAAS9N,CAAC,EAAC;IAAC,KAAI,IAAIwiB,CAAC,GAAC,IAAI,EAACA,CAAC,IAAE,CAAC,KAAGA,CAAC,CAACI,QAAQ,GAAE;MAAC,IAAGJ,CAAC,CAACJ,OAAO,CAACpiB,CAAC,CAAC,EAAC,OAAOwiB,CAAC;MAACA,CAAC,GAACA,CAAC,CAACK,UAAU;IAAA;IAAC,OAAO,IAAI;EAAA,CAAC,CAAC;AAAA,CAAC,CAACrf,MAAM,CAACsf,OAAO,CAACC,SAAS,CAAC;AAChatjB,QAAQ,CAACM,gBAAgB,CAAC,kBAAkB,EAAE,YAAW;EACrD,IAAIijB,YAAY,GAAGvjB,QAAQ,CAACC,gBAAgB,CAAC,gBAAgB,CAAC;IAC9DihB,OAAO,GAAQlhB,QAAQ,CAACoC,aAAa,CAAC,mBAAmB,CAAC;IAC1DohB,YAAY,GAAGxjB,QAAQ,CAACC,gBAAgB,CAAC,iBAAiB,CAAC;EAC3DkhB,IAAI,GAAYnhB,QAAQ,CAACoC,aAAa,CAAC,MAAM,CAAC,EAC9CmhB,YAAY,CAACnjB,OAAO,CAAC,UAASC,IAAI,EAAC;IAC/BA,IAAI,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAASC,CAAC,EAAE;MACvCA,CAAC,CAAC+hB,cAAc,CAAC,CAAC;MAClB,IAAImB,OAAO,GAAG,IAAI,CAACC,YAAY,CAAC,YAAY,CAAC;QAC7CC,SAAS,GAAG3jB,QAAQ,CAACoC,aAAa,CAAC,qBAAqB,GAAGqhB,OAAO,GAAG,IAAI,CAAC;MAC1EE,SAAS,CAACnjB,SAAS,CAAC8G,GAAG,CAAC,QAAQ,CAAC;MACjC4Z,OAAO,CAAC1gB,SAAS,CAAC8G,GAAG,CAAC,QAAQ,CAAC;MAC/B6Z,IAAI,CAAC9e,KAAK,CAACuhB,SAAS,GAAG,QAAQ;IACnC,CAAC,CAAC,CAAC,CAAC;EACR,CAAC,CAAC,CAAC,CAAC;EACJJ,YAAY,CAACpjB,OAAO,CAAC,UAASC,IAAI,EAAC;IAC/BA,IAAI,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAASC,CAAC,EAAE;MACvC,IAAIsjB,WAAW,GAAG,IAAI,CAACxV,OAAO,CAAC,QAAQ,CAAC;MACxCwV,WAAW,CAACrjB,SAAS,CAACM,MAAM,CAAC,QAAQ,CAAC;MACtCogB,OAAO,CAAC1gB,SAAS,CAACM,MAAM,CAAC,QAAQ,CAAC;MAClCqgB,IAAI,CAAC9e,KAAK,CAACuhB,SAAS,GAAG,EAAE;IAC7B,CAAC,CAAC;EACN,CAAC,CAAC,CAAC,CAAC;EACJ5jB,QAAQ,CAACmhB,IAAI,CAAC7gB,gBAAgB,CAAC,OAAO,EAAE,UAAUC,CAAC,EAAE;IACjD,IAAI6gB,GAAG,GAAG7gB,CAAC,CAACM,OAAO;IACnB,IAAIugB,GAAG,IAAI,EAAE,EAAE;MACX,IAAI0C,WAAW,GAAG9jB,QAAQ,CAACoC,aAAa,CAAC,eAAe,CAAC;MACzD,IAAK0hB,WAAW,EAAG;QACf9jB,QAAQ,CAACoC,aAAa,CAAC,eAAe,CAAC,CAAC5B,SAAS,CAACM,MAAM,CAAC,QAAQ,CAAC;MACtE;MACAd,QAAQ,CAACoC,aAAa,CAAC,UAAU,CAAC,CAAC5B,SAAS,CAACM,MAAM,CAAC,QAAQ,CAAC;MAC7DqgB,IAAI,CAAC9e,KAAK,CAACuhB,SAAS,GAAG,EAAE;IAC7B;IAAC;EACL,CAAC,EAAE,KAAK,CAAC;EACT1C,OAAO,CAAC5gB,gBAAgB,CAAC,OAAO,EAAE,YAAW;IACzC,IAAIwjB,WAAW,GAAG9jB,QAAQ,CAACoC,aAAa,CAAC,eAAe,CAAC;IACzD,IAAK0hB,WAAW,EAAG;MACf9jB,QAAQ,CAACoC,aAAa,CAAC,eAAe,CAAC,CAAC5B,SAAS,CAACM,MAAM,CAAC,QAAQ,CAAC;IACtE;IACA,IAAI,CAACN,SAAS,CAACM,MAAM,CAAC,QAAQ,CAAC;IAC/BqgB,IAAI,CAAC9e,KAAK,CAACuhB,SAAS,GAAG,EAAE;EAC7B,CAAC,CAAC;AACN,CAAC,CAAC,CAAC,CAAC;;;;;;;;;;;;AC5CJ;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;ACN0B;AACF;;AAExB;AACsC;AACF;;AAEpC","sources":["webpack://glamping-club/./src/js/filtr/filtr-generale.js","webpack://glamping-club/./src/js/filtr/filtr-render.js","webpack://glamping-club/./src/js/generale.js","webpack://glamping-club/./src/js/popups.js","webpack://glamping-club/./src/scss/main.scss?a0aa","webpack://glamping-club/webpack/bootstrap","webpack://glamping-club/webpack/runtime/compat get default export","webpack://glamping-club/webpack/runtime/define property getters","webpack://glamping-club/webpack/runtime/hasOwnProperty shorthand","webpack://glamping-club/webpack/runtime/make namespace object","webpack://glamping-club/./src/app.js"],"sourcesContent":["const filtrOptionsVision = () => {\r\n    const filtrTitle = document.querySelectorAll('.js-filtr-title');\r\n    const filtrItemOptions = document.querySelectorAll('.filtr-item__options');\r\n    if (!filtrTitle.length) return;\r\n    filtrTitle.forEach((item) => {\r\n        item.addEventListener('click', (e) => {\r\n            if (item.classList.contains('sort-glemp')) {\r\n                item.nextElementSibling.nextElementSibling.classList.toggle('active');\r\n            } else {\r\n                item.nextElementSibling.classList.toggle('active');\r\n            }\r\n\r\n            if (item.children[1])  item.children[1].classList.toggle('active');\r\n            if (item.children[2])  item.children[2].classList.toggle('active');\r\n        });\r\n    });\r\n\r\n    document.addEventListener('keydown', function(e) {\r\n        if( e.keyCode == 27 ) {\r\n            filtrTitle.forEach((item) => {\r\n                if (item.classList.contains('sort-glemp')) {\r\n                    item.nextElementSibling.nextElementSibling.classList.toggle('active');\r\n                } else {\r\n                    item.nextElementSibling.classList.toggle('active');\r\n                }\r\n                if (item.children[1])  item.children[1].classList.remove('active');\r\n                if (item.children[2])  item.children[2].classList.toggle('active');\r\n            });\r\n        }\r\n    });\r\n}\r\nfiltrOptionsVision();\r\n\r\nfunction optionsName(name) {\r\n    const options = {\r\n        'Рекомендованные': 'recommended',\r\n        'Сначала дешевые': 'min_price',\r\n        'Сначала дорогие': 'max_price',\r\n    };\r\n    return options[name];\r\n}\r\n","var Pagination = {\r\n    code: '',\r\n    Extend: function(data) {\r\n        data = data || {};\r\n        Pagination.size = data.size || 150;\r\n        Pagination.page = data.page || 1;\r\n        Pagination.step = data.step || 3;\r\n        Pagination.globj = data.globj || [];\r\n        Pagination.perPage = data.perPage || 12;\r\n    },\r\n    Add: function(s, f) {\r\n        for (var i = s; i < f; i++) {\r\n            Pagination.code += '<a>' + i + '</a>';\r\n        }\r\n    },\r\n    Last: function() {\r\n        Pagination.code += '<i>...</i><a>' + Pagination.size + '</a>';\r\n    },\r\n    First: function() {\r\n        Pagination.code += '<a>1</a><i>...</i>';\r\n    },\r\n    Click: function() {\r\n        Pagination.page = +this.innerHTML;\r\n        Pagination.Start();\r\n        if (Pagination.page == 1) {\r\n            document.querySelector('.filtr-pagination a.prev').style.display = '';\r\n        } else {\r\n            document.querySelector('.filtr-pagination a.prev').style.display = 'block';\r\n        }\r\n        if (Pagination.page == Pagination.size) {\r\n            document.querySelector('.filtr-pagination a.next').style.display = 'none';\r\n        } else {\r\n            document.querySelector('.filtr-pagination a.next').style.display = '';\r\n        }\r\n        let glempAllPagin = Pagination.globj.slice((Pagination.page-1)*Pagination.perPage, Pagination.perPage*Pagination.page);\r\n        glempRender(glempAllPagin);\r\n    },\r\n    Prev: function() {\r\n        Pagination.page--;\r\n        if (Pagination.page < 1) {\r\n            Pagination.page = 1;\r\n        }\r\n        Pagination.Start();\r\n        if (Pagination.page == 1) {\r\n            document.querySelector('.filtr-pagination a.prev').style.display = '';\r\n        } else {\r\n            document.querySelector('.filtr-pagination a.prev').style.display = 'block';\r\n        }\r\n        if (Pagination.page == Pagination.size) {\r\n            document.querySelector('.filtr-pagination a.next').style.display = 'none';\r\n        } else {\r\n            document.querySelector('.filtr-pagination a.next').style.display = '';\r\n        }\r\n        let glempAllPagin = Pagination.globj.slice((Pagination.page-1)*Pagination.perPage, Pagination.perPage*Pagination.page);\r\n        glempRender(glempAllPagin);\r\n    },\r\n    Next: function() {\r\n        Pagination.page++;\r\n        if (Pagination.page > Pagination.size) {\r\n            Pagination.page = Pagination.size;\r\n        }\r\n        Pagination.Start();\r\n        if (Pagination.page == 1) {\r\n            document.querySelector('.filtr-pagination a.prev').style.display = '';\r\n        } else {\r\n            document.querySelector('.filtr-pagination a.prev').style.display = 'block';\r\n        }\r\n        if (Pagination.page == Pagination.size) {\r\n            document.querySelector('.filtr-pagination a.next').style.display = 'none';\r\n        } else {\r\n            document.querySelector('.filtr-pagination a.next').style.display = '';\r\n        }\r\n        let glempAllPagin = Pagination.globj.slice((Pagination.page-1)*Pagination.perPage, Pagination.perPage*Pagination.page);\r\n        glempRender(glempAllPagin);\r\n    },\r\n    Bind: function() {\r\n        var a = Pagination.e.getElementsByTagName('a');\r\n        for (var i = 0; i < a.length; i++) {\r\n            if (+a[i].innerHTML === Pagination.page) a[i].className = 'current';\r\n            a[i].addEventListener('click', Pagination.Click, false);\r\n        }\r\n    },\r\n    Finish: function() {\r\n        Pagination.e.innerHTML = Pagination.code;\r\n        Pagination.code = '';\r\n        Pagination.Bind();\r\n    },\r\n    Start: function() {\r\n        if (Pagination.size < Pagination.step * 2 + 6) {\r\n            Pagination.Add(1, Pagination.size + 1);\r\n        }\r\n        else if (Pagination.page < Pagination.step * 2 + 1) {\r\n            Pagination.Add(1, Pagination.step * 2 + 4);\r\n            Pagination.Last();\r\n        }\r\n        else if (Pagination.page > Pagination.size - Pagination.step * 2) {\r\n            Pagination.First();\r\n            Pagination.Add(Pagination.size - Pagination.step * 2 - 2, Pagination.size + 1);\r\n        }\r\n        else {\r\n            Pagination.First();\r\n            Pagination.Add(Pagination.page - Pagination.step, Pagination.page + Pagination.step + 1);\r\n            Pagination.Last();\r\n        }\r\n        Pagination.Finish();\r\n    },\r\n    Buttons: function(e) {\r\n        var nav = e.getElementsByTagName('a');\r\n        nav[0].addEventListener('click', Pagination.Prev, false);\r\n        nav[1].addEventListener('click', Pagination.Next, false);\r\n    },\r\n    Create: function(e) {\r\n        let icon_prev = `<svg width=\"10\" height=\"14\" viewBox=\"0 0 10 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M9 1L2 7L9 13\" stroke=\"#5E6D77\" stroke-width=\"1.5\"/>\r\n        </svg>`;\r\n        let icon_next = `<svg width=\"10\" height=\"14\" viewBox=\"0 0 10 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M1 13L8 7L1 1\" stroke=\"#5E6D77\" stroke-width=\"1.5\"/>\r\n        </svg>`;\r\n\r\n        var html = [\r\n            '<a class=\"prev\">'+icon_prev+'</a>', // previous button\r\n            '<span class=\"links\"></span>',  // pagination container\r\n            '<a class=\"next\">'+icon_next+'</a>'  // next button\r\n        ];\r\n\r\n        e.innerHTML = html.join('');\r\n        Pagination.e = e.getElementsByTagName('span')[0];\r\n        Pagination.Buttons(e);\r\n    },\r\n    Init: function(e, data) {\r\n        if (e) {\r\n            Pagination.Extend(data);\r\n            Pagination.Create(e);\r\n            Pagination.Start();\r\n        }\r\n    }\r\n};\r\n\r\nlet glempsAll = JSON.parse(glamping_club_ajax.glAll);\r\n\r\nconst glIt = document.querySelector('.glampings-items');\r\n\r\nif (glIt.classList.contains('no-map')) {\r\n    if (window.innerWidth > 1649) {\r\n        let perPageFullSt = Number(glamping_club_ajax.glc_per_page_full);\r\n        let glempAllPagin = glempsAll.slice(0, perPageFullSt);\r\n        glempRender(glempAllPagin);\r\n        let pagesAbs = glempsAll.length/perPageFullSt;\r\n        let pages = Math.ceil(pagesAbs);\r\n        const navLinks = document.querySelector('.filtr-pagination .nav-links');\r\n        if (pages > 1) {\r\n            if (document.querySelector('.pagination')) {\r\n                document.querySelector('.pagination').style.display = 'none';\r\n            }\r\n            document.querySelector('.filtr-pagination').style.display = 'flex';\r\n        } else {\r\n            if (document.querySelector('.pagination')) {\r\n                document.querySelector('.pagination').style.display = 'none';\r\n            }\r\n            document.querySelector('.filtr-pagination').style.display = '';\r\n        }\r\n\r\n        Pagination.Init(navLinks, {\r\n            size: pages, // pages size\r\n            page: 1,  // selected page\r\n            step: 1,   // pages before and after current\r\n            globj: glempsAll,\r\n            perPage: perPageFullSt\r\n        });\r\n    }\r\n}\r\n\r\nwindow.addEventListener('resize', () => {\r\n    if (!document.querySelector('.glampings-filtr-btns__item.btn-clear').classList.contains('active')) {\r\n        if (glIt.classList.contains('no-map')) {\r\n            if (window.innerWidth > 1649) {\r\n                let perPageFullSt = Number(glamping_club_ajax.glc_per_page_full);\r\n                let glempAllPagin = glempsAll.slice(0, perPageFullSt);\r\n                glempRender(glempAllPagin);\r\n                let pagesAbs = glempsAll.length/perPageFullSt;\r\n                let pages = Math.ceil(pagesAbs);\r\n                const navLinks = document.querySelector('.filtr-pagination .nav-links');\r\n                if (pages > 1) {\r\n                    if (document.querySelector('.pagination')) {\r\n                        document.querySelector('.pagination').style.display = 'none';\r\n                    }\r\n                    document.querySelector('.filtr-pagination').style.display = 'flex';\r\n                } else {\r\n                    if (document.querySelector('.pagination')) {\r\n                        document.querySelector('.pagination').style.display = 'none';\r\n                    }\r\n                    document.querySelector('.filtr-pagination').style.display = '';\r\n                }\r\n\r\n                Pagination.Init(navLinks, {\r\n                    size: pages, // pages size\r\n                    page: 1,  // selected page\r\n                    step: 1,   // pages before and after current\r\n                    globj: glempsAll,\r\n                    perPage: perPageFullSt\r\n                });\r\n            } else {\r\n                let perPageAllSt = Number(glamping_club_ajax.glc_per_page_all);\r\n                let glempAllPagin = glempsAll.slice(0, perPageAllSt);\r\n                glempRender(glempAllPagin);\r\n                let pagesAbs = glempsAll.length/perPageAllSt;\r\n                let pages = Math.ceil(pagesAbs);\r\n                const navLinks = document.querySelector('.filtr-pagination .nav-links');\r\n                if (pages > 1) {\r\n                    if (document.querySelector('.pagination')) {\r\n                        document.querySelector('.pagination').style.display = 'none';\r\n                    }\r\n                    document.querySelector('.filtr-pagination').style.display = 'flex';\r\n                } else {\r\n                    if (document.querySelector('.pagination')) {\r\n                        document.querySelector('.pagination').style.display = 'none';\r\n                    }\r\n                    document.querySelector('.filtr-pagination').style.display = '';\r\n                }\r\n\r\n                Pagination.Init(navLinks, {\r\n                    size: pages, // pages size\r\n                    page: 1,  // selected page\r\n                    step: 1,   // pages before and after current\r\n                    globj: glempsAll,\r\n                    perPage: perPageAllSt\r\n                });\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nconst agc = (glAll) => {\r\n    const allGlCount = document.querySelectorAll('.all-gl-count');\r\n    if (!allGlCount.length) return;\r\n    allGlCount.forEach((item, i) => {\r\n        item.innerText = glAll.length;\r\n    });\r\n}\r\nagc(glempsAll);\r\n\r\nif (localStorage.getItem('glcRefFront') == 'front') {\r\n    const glAll = JSON.parse(glamping_club_ajax.glAll);\r\n    const glampingsMap = document.querySelector('.glampings-map');\r\n    let locVal = localStorage.getItem('glcRegion');\r\n    let typeVal = localStorage.getItem('glcType');\r\n    if (locVal && typeVal) {\r\n        console.dir(glAll.filter((gl) => gl.location.includes(locVal)).filter((gl) => gl.type.includes(typeVal)));\r\n        glempsAlls = glAll.filter((gl) => gl.location.includes(locVal)).filter((gl) => gl.type.includes(typeVal));\r\n        glempRender(glempsAlls);\r\n        glampingsMap.children[0].innerHTML = '';\r\n        mapRender(mapPointTest(glempsAlls));\r\n    } else if (locVal) {\r\n        console.dir(glAll.filter((gl) => gl.location.includes(locVal)));\r\n        glempsAlls = glAll.filter((gl) => gl.location.includes(locVal));\r\n        glempRender(glempsAlls);\r\n        glampingsMap.children[0].innerHTML = '';\r\n        mapRender(mapPointTest(glempsAlls));\r\n    } else if (typeVal) {\r\n        console.dir(glAll.filter((gl) => gl.type.includes(typeVal)));\r\n        glempsAlls = glAll.filter((gl) => gl.type.includes(typeVal));\r\n        glempRender(glempsAlls);\r\n        glampingsMap.children[0].innerHTML = '';\r\n        mapRender(mapPointTest(glempsAlls));\r\n    }\r\n} else {\r\n    localStorage.removeItem('glcRegion');\r\n    localStorage.removeItem('glcType');\r\n    localStorage.removeItem('glcAllocation');\r\n    localStorage.removeItem('glcWorking');\r\n    localStorage.removeItem('glcNature');\r\n    localStorage.removeItem('glcFacilGen');\r\n    localStorage.removeItem('glcFacilChildren');\r\n    localStorage.removeItem('glcEntertainment');\r\n    localStorage.removeItem('glcTerritory');\r\n    localStorage.removeItem('glcSafety');\r\n    localStorage.removeItem('glcPrice');\r\n    localStorage.removeItem('glcPriceSt');\r\n    localStorage.removeItem('glcPriceMin');\r\n    localStorage.removeItem('glcPriceMax');\r\n    localStorage.removeItem('glcStocks');\r\n    localStorage.removeItem('glcRecom');\r\n    localStorage.removeItem('filtrHidden');\r\n}\r\n\r\nconst locationsArchive = (glempAll) => {\r\n    const regionItem = document.querySelector('.filtr-item.region');\r\n    if (!regionItem) return;\r\n    regionItem.style.display = '';\r\n    let locObj = [];\r\n    glempAll.forEach((item) => {\r\n        let locItem = {\r\n            location: item.location,\r\n            location_id: item.location_id,\r\n            location_slug: item.location_slug,\r\n        }\r\n        locObj.push(locItem);\r\n    });\r\n    locObj = removeDuplicates(locObj);\r\n\r\n    locObj.sort(function(a, b) {\r\n        return a.location.localeCompare(b.location);\r\n    });\r\n\r\n    if (locObj.length) {\r\n        countFiltrItem('glcRegion', regionItem);\r\n        ls = localStorage.getItem('glcRegion');\r\n        let chek = '';\r\n        regionItem.children[1].innerHTML = '';\r\n        locObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item.location)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.location_id == item.location_id);\r\n            regionItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item.location_id}\" name=\"${item.location}\" data-name=\"glcRegion\" value=\"\" ${chek}>\r\n                    <label for=\"${item.location_id}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item.location}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        regionItem.children[1].innerHTML = '';\r\n        regionItem.style.display = 'none';\r\n    }\r\n}\r\nlocationsArchive(glempsAll);\r\n\r\nconst filtrStocks = (glempAll) => {\r\n    const stocksItem = document.querySelector('.filtr-item.stocks');\r\n    if (!stocksItem) return;\r\n    const stocksItemCount = document.querySelector('.filtr-item.stocks span.count');\r\n    let stocksCount = 0;\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            if (item.stocks) {\r\n                stocksCount++;\r\n            }\r\n        });\r\n    } else {\r\n        if (glempAll[0].stocks) {\r\n            stocksCount++;\r\n        }\r\n    }\r\n    stocksItemCount.innerText = stocksCount;\r\n    if (stocksCount) {\r\n        stocksItem.classList.add('activate');\r\n    } else {\r\n        stocksItem.classList.remove('activate');\r\n    }\r\n}\r\nfiltrStocks(glempsAll);\r\n\r\nconst filtrRecommended = (glempAll) => {\r\n    const recommendedItem = document.querySelector('.filtr-item.recommended');\r\n    if (!recommendedItem) return;\r\n    const recommendedItemCount = document.querySelector('.filtr-item.recommended span.count');\r\n    let recommendedCount = 0;\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            if (item.recommended == 'yes') {\r\n                recommendedCount++;\r\n            }\r\n        });\r\n    } else {\r\n        if (glempAll[0].recommended == 'yes') {\r\n            recommendedCount++;\r\n        }\r\n    }\r\n    recommendedItemCount.innerText = recommendedCount;\r\n    if (recommendedCount) {\r\n        recommendedItem.classList.add('activate');\r\n    } else {\r\n        recommendedItem.classList.remove('activate');\r\n    }\r\n}\r\nfiltrRecommended(glempsAll);\r\n\r\nconst filtrTypeArchive = (glempAll) => {\r\n    const typeItem = document.querySelector('.filtr-item.type');\r\n    if (!typeItem) return;\r\n    typeItem.style.display = '';\r\n    let typObj = [];\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            typObj = typObj.concat(item.type);\r\n        });\r\n        typObj = makeUniqSort(typObj);\r\n    } else {\r\n        typObj = glempAll[0].type\r\n    }\r\n    if (typObj.length) {\r\n        typeItem.children[1].innerHTML = '';\r\n        countFiltrItem('glcType', typeItem);\r\n        ls = localStorage.getItem('glcType');\r\n        let chek = '';\r\n        typObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.type.includes(item));\r\n            typeItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item}\" name=\"${item}\" data-name=\"glcType\" value=\"\" ${chek}>\r\n                    <label for=\"${item}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                    <span></span>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        typeItem.children[1].innerHTML = '';\r\n        typeItem.style.display = 'none';\r\n    }\r\n}\r\nfiltrTypeArchive(glempsAll);\r\n\r\nconst filtrAllocationArchive = (glempAll) => {\r\n    const typeItem = document.querySelector('.filtr-item.allocation');\r\n    if (!typeItem) return;\r\n    typeItem.style.display = '';\r\n    let typObj = [];\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            typObj = typObj.concat(item.allocation);\r\n        });\r\n        typObj = typObj.reduce((acc, i) => i ? [...acc, i] : acc, []);\r\n        typObj = makeUniqSort(typObj);\r\n    } else {\r\n        typObj = glempAll[0].allocation\r\n    }\r\n    typeItem.children[1].innerHTML = '';\r\n    if (typObj.length) {\r\n        // typeItem.children[1].innerHTML = '';\r\n        countFiltrItem('glcAllocation', typeItem);\r\n        ls = localStorage.getItem('glcAllocation');\r\n        let chek = '';\r\n        typObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.allocation.includes(item));\r\n            typeItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item}\" name=\"${item}\" data-name=\"glcAllocation\" value=\"\" ${chek}>\r\n                    <label for=\"${item}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                    <span></span>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        typeItem.children[1].innerHTML = '';\r\n        typeItem.style.display = 'none';\r\n    }\r\n}\r\nfiltrAllocationArchive(glempsAll);\r\n\r\nconst filtrWorkingArchive = (glempAll) => {\r\n    const typeItem = document.querySelector('.filtr-item.working');\r\n    if (!typeItem) return;\r\n    typeItem.style.display = '';\r\n    let typObj = [];\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            typObj = typObj.concat(item.working_mode_seasons);\r\n        });\r\n        typObj = typObj.reduce((acc, i) => i ? [...acc, i] : acc, []);\r\n        typObj = montsSort(typObj);\r\n    } else {\r\n        typObj = glempAll[0].working_mode_seasons\r\n    }\r\n    typeItem.children[1].innerHTML = '';\r\n    if (typObj.length) {\r\n        // typeItem.children[1].innerHTML = '';\r\n        countFiltrItem('glcWorking', typeItem);\r\n        ls = localStorage.getItem('glcWorking');\r\n        let chek = '';\r\n        typObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.working_mode_seasons.includes(item));\r\n            typeItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item}\" name=\"${item}\" data-name=\"glcWorking\" value=\"\" ${chek}>\r\n                    <label for=\"${item}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                    <span></span>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        typeItem.children[1].innerHTML = '';\r\n        typeItem.style.display = 'none';\r\n    }\r\n}\r\nfiltrWorkingArchive(glempsAll);\r\n\r\nconst filtrNatureArchive = (glempAll) => {\r\n    const typeItem = document.querySelector('.filtr-item.nature');\r\n    if (!typeItem) return;\r\n    typeItem.style.display = '';\r\n    let typObj = [];\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            typObj = typObj.concat(item.nature_around);\r\n        });\r\n        typObj = typObj.reduce((acc, i) => i ? [...acc, i] : acc, []);\r\n        typObj = makeUniqSort(typObj);\r\n    } else {\r\n        typObj = glempAll[0].nature_around\r\n    }\r\n    typeItem.children[1].innerHTML = '';\r\n    if (typObj.length) {\r\n        // typeItem.children[1].innerHTML = '';\r\n        countFiltrItem('glcNature', typeItem);\r\n        ls = localStorage.getItem('glcNature');\r\n        let chek = '';\r\n        typObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.nature_around.includes(item));\r\n            typeItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item}\" name=\"${item}\" data-name=\"glcNature\" value=\"\" ${chek}>\r\n                    <label for=\"${item}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                    <span></span>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        typeItem.children[1].innerHTML = '';\r\n        typeItem.style.display = 'none';\r\n    }\r\n}\r\nfiltrNatureArchive(glempsAll);\r\n\r\nconst filtrFacilitiesGeneralArchive = (glempAll) => {\r\n    const typeItem = document.querySelector('.filtr-item.facilities_general');\r\n    if (!typeItem) return;\r\n    typeItem.style.display = '';\r\n    let typObj = [];\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            typObj = typObj.concat(item.facilities_general);\r\n        });\r\n        typObj = typObj.reduce((acc, i) => i ? [...acc, i] : acc, []);\r\n        typObj = makeUniqSort(typObj);\r\n    } else {\r\n        typObj = glempAll[0].facilities_general\r\n    }\r\n    typeItem.children[1].innerHTML = '';\r\n    if (typObj.length) {\r\n        // typeItem.children[1].innerHTML = '';\r\n        countFiltrItem('glcFacilGen', typeItem);\r\n        ls = localStorage.getItem('glcFacilGen');\r\n        let chek = '';\r\n        typObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.facilities_general.includes(item));\r\n            typeItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item}\" name=\"${item}\" data-name=\"glcFacilGen\" value=\"\" ${chek}>\r\n                    <label for=\"${item}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                    <span></span>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        typeItem.children[1].innerHTML = '';\r\n        typeItem.style.display = 'none';\r\n    }\r\n}\r\nfiltrFacilitiesGeneralArchive(glempsAll);\r\n\r\nconst filtrChildrenArchive = (glempAll) => {\r\n    const typeItem = document.querySelector('.filtr-item.children');\r\n    if (!typeItem) return;\r\n    typeItem.style.display = '';\r\n    let typObj = [];\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            typObj = typObj.concat(item.facilities_children);\r\n        });\r\n        typObj = typObj.reduce((acc, i) => i ? [...acc, i] : acc, []);\r\n        typObj = makeUniqSort(typObj);\r\n    } else {\r\n        typObj = glempAll[0].facilities_children\r\n    }\r\n    typeItem.children[1].innerHTML = '';\r\n    if (typObj.length) {\r\n        // typeItem.children[1].innerHTML = '';\r\n        countFiltrItem('glcFacilChildren', typeItem);\r\n        ls = localStorage.getItem('glcFacilChildren');\r\n        let chek = '';\r\n        typObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.facilities_children.includes(item));\r\n            typeItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item}\" name=\"${item}\" data-name=\"glcFacilChildren\" value=\"\" ${chek}>\r\n                    <label for=\"${item}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                    <span></span>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        typeItem.children[1].innerHTML = '';\r\n        typeItem.style.display = 'none';\r\n    }\r\n}\r\nfiltrChildrenArchive(glempsAll);\r\n\r\nconst filtrErtainmentArchive = (glempAll) => {\r\n    const typeItem = document.querySelector('.filtr-item.entertainment');\r\n    if (!typeItem) return;\r\n    typeItem.style.display = '';\r\n    let typObj = [];\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            typObj = typObj.concat(item.entertainment);\r\n        });\r\n        typObj = typObj.reduce((acc, i) => i ? [...acc, i] : acc, []);\r\n        typObj = makeUniqSort(typObj);\r\n    } else {\r\n        typObj = glempAll[0].entertainment\r\n    }\r\n    typeItem.children[1].innerHTML = '';\r\n    if (typObj.length) {\r\n        // typeItem.children[1].innerHTML = '';\r\n        countFiltrItem('glcEntertainment', typeItem);\r\n        ls = localStorage.getItem('glcEntertainment');\r\n        let chek = '';\r\n        typObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.entertainment.includes(item));\r\n            typeItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item}\" name=\"${item}\" data-name=\"glcEntertainment\" value=\"\" ${chek}>\r\n                    <label for=\"${item}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                    <span></span>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        typeItem.children[1].innerHTML = '';\r\n        typeItem.style.display = 'none';\r\n    }\r\n}\r\nfiltrErtainmentArchive(glempsAll);\r\n\r\nconst filtrTerritoryArchive = (glempAll) => {\r\n    const typeItem = document.querySelector('.filtr-item.territory');\r\n    if (!typeItem) return;\r\n    typeItem.style.display = '';\r\n    let typObj = [];\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            typObj = typObj.concat(item.territory);\r\n        });\r\n        typObj = typObj.reduce((acc, i) => i ? [...acc, i] : acc, []);\r\n        typObj = makeUniqSort(typObj);\r\n    } else {\r\n        typObj = glempAll[0].territory\r\n    }\r\n    typeItem.children[1].innerHTML = '';\r\n    if (typObj.length) {\r\n        // typeItem.children[1].innerHTML = '';\r\n        countFiltrItem('glcTerritory', typeItem);\r\n        ls = localStorage.getItem('glcTerritory');\r\n        let chek = '';\r\n        typObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.territory.includes(item));\r\n            typeItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item}\" name=\"${item}\" data-name=\"glcTerritory\" value=\"\" ${chek}>\r\n                    <label for=\"${item}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                    <span></span>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        typeItem.children[1].innerHTML = '';\r\n        typeItem.style.display = 'none';\r\n    }\r\n}\r\nfiltrTerritoryArchive(glempsAll);\r\n\r\nconst filtrSafetyArchive = (glempAll) => {\r\n    const typeItem = document.querySelector('.filtr-item.safety');\r\n    if (!typeItem) return;\r\n    typeItem.style.display = '';\r\n    let typObj = [];\r\n    if ( glempAll.length > 1 ) {\r\n        glempAll.forEach((item) => {\r\n            typObj = typObj.concat(item.safety);\r\n        });\r\n        typObj = typObj.reduce((acc, i) => i ? [...acc, i] : acc, []);\r\n        typObj = makeUniqSort(typObj);\r\n    } else {\r\n        typObj = glempAll[0].safety\r\n    }\r\n    if (typObj.length) {\r\n        typeItem.children[1].innerHTML = '';\r\n        countFiltrItem('glcSafety', typeItem);\r\n        ls = localStorage.getItem('glcSafety');\r\n        let chek = '';\r\n        typObj.forEach((item) => {\r\n            if (ls) {\r\n                if (ls.includes(item)) {\r\n                    chek = 'checked';\r\n                } else {\r\n                    chek = '';\r\n                }\r\n            }\r\n            let count = glempAll.filter(elem => elem.safety.includes(item));\r\n            typeItem.children[1].insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<li>\r\n                    <input type=\"checkbox\" id=\"${item}\" name=\"${item}\" data-name=\"glcSafety\" value=\"\" ${chek}>\r\n                    <label for=\"${item}\">\r\n                        <span class=\"checkmark fcheckbox\">\r\n                            <svg width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                                <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <span class=\"name\">${item}</span>\r\n                        <span class=\"count\">${count.length}</span>\r\n                    </label>\r\n                    <span></span>\r\n                </li>`\r\n            )\r\n        });\r\n    } else {\r\n        typeItem.children[1].innerHTML = '';\r\n        typeItem.style.display = 'none';\r\n    }\r\n}\r\nfiltrSafetyArchive(glempsAll);\r\n\r\nfunction sliderNumber(startMin, startMax, min, max) {\r\n    const slider = document.getElementById('glc-slider');\r\n    if (!slider) return;\r\n    const minPriceInput = document.getElementById('min_price');\r\n    const maxPriceInput = document.getElementById('max_price');\r\n    const icon = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n    <path d=\"M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z\"/>\r\n    </svg>`;\r\n    noUiSlider.create(slider, {\r\n        start: [startMin, startMax],\r\n        connect: true,\r\n        range: {\r\n            'min': min,\r\n            'max': max\r\n        }\r\n    });\r\n    let sliderValueStart = slider.noUiSlider.get();\r\n    localStorage.setItem('glcPrice', sliderValueStart.map(Number));\r\n    localStorage.setItem('glcPriceSt', sliderValueStart.map(Number));\r\n    // console.dir(sliderValueStart);\r\n    slider.noUiSlider.on('update', function () {\r\n        let numbFmt = new Intl.NumberFormat('ru-RU');\r\n        let sliderValue = slider.noUiSlider.get();\r\n        minPriceInput.value = numbFmt.format(Math.ceil(sliderValue[0]))+' руб.';\r\n        maxPriceInput.value = numbFmt.format(Math.ceil(sliderValue[1]))+' руб.';\r\n    });\r\n    slider.noUiSlider.on('end', function (values, handle) {\r\n        console.dir(handle);\r\n        console.dir(Number(values[handle]).toFixed());\r\n        console.dir(values.map(Number).map(elem => elem.toFixed()));\r\n        const glampingsMap = document.querySelector('.glampings-map');\r\n        let sliderValue = slider.noUiSlider.get();\r\n        console.dir(sliderValue.map(Number).map(elem => elem.toFixed()));\r\n\r\n        // let glempAll = JSON.parse(glamping_club_ajax.glAll);\r\n        let newgGlempAll =  glempsAll.filter(filtrOptionsChange).filter(priceRange, sliderValue);\r\n        glempRender(newgGlempAll);\r\n        localStorage.setItem('glcPrice', sliderValue.map(Number).map(elem => elem.toFixed()));\r\n        if (handle == '0') {\r\n            localStorage.setItem('glcPriceMin', Math.ceil(sliderValue[0]));\r\n        }\r\n        if (handle == '1') {\r\n            localStorage.setItem('glcPriceMax', Math.ceil(sliderValue[1]));\r\n        }\r\n        // localStorage.setItem('glcPriceMin', Math.ceil(sliderValue[0]));\r\n        // localStorage.setItem('glcPriceMax', Math.ceil(sliderValue[1]));\r\n\r\n        let sliderValueStartStr = sliderValueStart.map(Number).join(',');\r\n        let sliderValueStr = sliderValue.map(Number).join(',');\r\n\r\n        console.dir(sliderValueStartStr);\r\n        console.dir(sliderValueStr);\r\n\r\n        const names = [\r\n            'glcType',\r\n            'glcAllocation',\r\n            'glcWorking',\r\n            'glcNature',\r\n            'glcFacilGen',\r\n            'glcFacilChildren',\r\n            'glcEntertainment',\r\n            'glcTerritory',\r\n            'glcSafety',\r\n            'glcStocks',\r\n            'glcRecom'\r\n        ];\r\n        let inputs = document.querySelectorAll('.glampings-filtr-items input');\r\n\r\n        if (itemsVal(inputs, names) || sliderValueStartStr !== sliderValueStr) {\r\n            locationsArchive(newgGlempAll);\r\n        } else {\r\n            locationsArchive(glempsAll);\r\n        }\r\n        filtrTypeArchive(newgGlempAll);\r\n        filtrAllocationArchive(newgGlempAll);\r\n        filtrWorkingArchive(newgGlempAll);\r\n        filtrNatureArchive(newgGlempAll);\r\n        filtrFacilitiesGeneralArchive(newgGlempAll);\r\n        filtrChildrenArchive(newgGlempAll);\r\n        filtrErtainmentArchive(newgGlempAll);\r\n        filtrTerritoryArchive(newgGlempAll);\r\n        filtrSafetyArchive(newgGlempAll);\r\n        filtrRecommended(newgGlempAll);\r\n        filtrStocks(newgGlempAll);\r\n\r\n        glampingsMap.children[0].innerHTML = '';\r\n        mapRender(mapPointTest(newgGlempAll));\r\n\r\n        // console.dir(slider.parentElement.previousElementSibling.previousElementSibling.children[1]);\r\n\r\n        if (isArraysEqual(sliderValueStart, sliderValue)) {\r\n            slider.parentElement.previousElementSibling.children[1].innerHTML = '';\r\n        } else {\r\n            slider.parentElement.previousElementSibling.children[1].innerHTML = icon;\r\n        }\r\n        chekAllFitrs();\r\n    });\r\n}\r\n// sliderNumber(2000, 8000, 2000, 8000);\r\n\r\nfunction isArraysEqual(firstArray, secondArray) {\r\n    return firstArray.toString() === secondArray.toString();\r\n}\r\n\r\nfunction chekAllFitrs() {\r\n    const filtrItems = document.querySelectorAll('.filtr-item__title__count');\r\n    if (!filtrItems.length) return;\r\n    const btnFiltrClear = document.querySelectorAll('#all-filter-clear');\r\n    let countObj = [];\r\n    filtrItems.forEach((item) => {\r\n        if (item.innerHTML) {\r\n            countObj.push(item.innerHTML);\r\n        }\r\n        if (document.querySelector('input[name=\"stocks\"]').checked) {\r\n            countObj.push('stocks');\r\n        }\r\n        if (document.querySelector('input[name=\"recommended\"]').checked) {\r\n            countObj.push('recommended');\r\n        }\r\n    });\r\n    if (countObj.length) {\r\n        btnFiltrClear.forEach((btn) => {\r\n            btn.classList.add('active');\r\n        });\r\n    } else {\r\n        btnFiltrClear.forEach((btn) => {\r\n            btn.classList.remove('active');\r\n        });\r\n    }\r\n    return countObj.length;\r\n}\r\nchekAllFitrs();\r\n\r\nfunction removeAllFitrs() {\r\n    const btnFiltrClear = document.querySelectorAll('#all-filter-clear');\r\n    if (!btnFiltrClear.length) return;\r\n    const priceCount = document.querySelector('.filtr-item.price .filtr-item__title__count');\r\n    const glampingsMap = document.querySelector('.glampings-map');\r\n    btnFiltrClear.forEach((btn) => {\r\n        btn.addEventListener('click', function(e) {\r\n            localStorage.removeItem('glcRegion');\r\n            localStorage.removeItem('glcType');\r\n            localStorage.removeItem('glcAllocation');\r\n            localStorage.removeItem('glcWorking');\r\n            localStorage.removeItem('glcNature');\r\n            localStorage.removeItem('glcFacilGen');\r\n            localStorage.removeItem('glcFacilChildren');\r\n            localStorage.removeItem('glcEntertainment');\r\n            localStorage.removeItem('glcTerritory');\r\n            localStorage.removeItem('glcSafety');\r\n            // localStorage.removeItem('glcPrice');\r\n            // localStorage.removeItem('glcPriceSt');\r\n            localStorage.removeItem('glcPriceMin');\r\n            localStorage.removeItem('glcPriceMax');\r\n            // localStorage.removeItem('glcPrice');\r\n            localStorage.removeItem('glcStocks');\r\n            localStorage.removeItem('glcRecom');\r\n\r\n            let glempAll = JSON.parse(glamping_club_ajax.glAll);\r\n            localStorage.setItem('glcPrice', priceSliderOption(glempAll));\r\n\r\n            locationsArchive(glempAll);\r\n            filtrTypeArchive(glempAll);\r\n            filtrAllocationArchive(glempAll);\r\n            filtrWorkingArchive(glempAll);\r\n            filtrNatureArchive(glempAll);\r\n            filtrFacilitiesGeneralArchive(glempAll);\r\n            filtrChildrenArchive(glempAll);\r\n            filtrErtainmentArchive(glempAll);\r\n            filtrTerritoryArchive(glempAll);\r\n            filtrSafetyArchive(glempAll);\r\n            filtrRecommended(glempAll);\r\n            filtrStocks(glempAll);\r\n\r\n            document.querySelector('input[name=\"stocks\"]').checked = false;\r\n            document.querySelector('input[name=\"recommended\"]').checked = false;\r\n\r\n            glempRender(glempAll);\r\n            glampingsMap.children[0].innerHTML = '';\r\n            mapRender(mapPointTest(glempAll));\r\n            agc(glempAll);\r\n\r\n            sliderUpdatePrice(glempAll);\r\n            priceCount.innerHTML = '';\r\n\r\n            btnFiltrClear.forEach((btn) => {\r\n                btn.classList.remove('active');\r\n            });\r\n\r\n            // btnFiltrClear.classList.remove('activate');\r\n        });\r\n    });\r\n}\r\nremoveAllFitrs();\r\n\r\nfunction priceSliderRender(arr) {\r\n    let pricesObj = [];\r\n    let priceMin = '';\r\n    let priceMax = '';\r\n    if ( arr.length > 1 ) {\r\n        arr.forEach((item) => {\r\n            pricesObj = pricesObj.concat(item.price);\r\n        });\r\n        pricesObj = makeUniqSort(pricesObj);\r\n        priceMin = Math.min.apply(null, pricesObj);\r\n        priceMax = Math.max.apply(null, pricesObj);\r\n    } else {\r\n        pricesObj = arr[0].price\r\n        priceMin = +pricesObj;\r\n        priceMax = +pricesObj;\r\n    }\r\n    sliderNumber(priceMin, priceMax, priceMin, priceMax);\r\n    return {priceMin: priceMin, priceMax: priceMax};\r\n}\r\n// priceSliderRender(JSON.parse(glamping_club_ajax.glAll));\r\npriceSliderRender(glempsAll);\r\n\r\nfunction priceSliderOption(arr) {\r\n    let pricesObj = [];\r\n    let priceMin = '';\r\n    let priceMax = '';\r\n    if ( arr.length > 1 ) {\r\n        arr.forEach((item) => {\r\n            pricesObj = pricesObj.concat(item.price);\r\n        });\r\n        pricesObj = makeUniqSort(pricesObj);\r\n        priceMin = Math.min.apply(null, pricesObj);\r\n        priceMax = Math.max.apply(null, pricesObj);\r\n    } else {\r\n        pricesObj = arr[0].price\r\n        priceMin = +pricesObj;\r\n        priceMax = +pricesObj;\r\n    }\r\n    return [priceMin, priceMax];\r\n}\r\n\r\nfunction sliderUpdatePrice(arr) {\r\n    const slider = document.getElementById('glc-slider');\r\n    let pricesObj = [];\r\n    let priceMin = '';\r\n    let priceMax = '';\r\n    if ( arr.length > 1 ) {\r\n        arr.forEach((item) => {\r\n            pricesObj = pricesObj.concat(item.price);\r\n        });\r\n        pricesObj = makeUniqSort(pricesObj);\r\n        priceMin = Math.min.apply(null, pricesObj.map(Number));\r\n        priceMax = Math.max.apply(null, pricesObj.map(Number));\r\n    } else {\r\n        pricesObj = arr[0].price\r\n        priceMin = +pricesObj;\r\n        priceMax = +pricesObj;\r\n    }\r\n    let glempAll = JSON.parse(glamping_club_ajax.glAll);\r\n    let currPrice = [];\r\n    currPrice = localStorage.getItem('glcPrice').split(',').map(Number);\r\n    let currPriceMin = localStorage.getItem('glcPriceMin');\r\n    let currPriceMax = localStorage.getItem('glcPriceMax');\r\n    let stPriceMin = '';\r\n    let stPriceMax = '';\r\n    if (currPriceMin) {\r\n        stPriceMin = currPriceMin;\r\n    } else {\r\n        stPriceMin = currPrice[0];\r\n    }\r\n    if (currPriceMax) {\r\n        stPriceMax = currPriceMax;\r\n    } else {\r\n        stPriceMax = currPrice[1];\r\n    }\r\n    slider.noUiSlider.updateOptions({\r\n        start: [stPriceMin, stPriceMax],\r\n        range: {\r\n            'min': priceMin,\r\n            'max': priceMax\r\n        }\r\n    });\r\n    let priceObj = [priceMin, priceMax];\r\n    // localStorage.setItem('glcPrice', priceObj);\r\n\r\n    return priceObj;\r\n}\r\n\r\nfunction removeDuplicates(arr) {\r\n  const locationsById = ((\r\n    function() {\r\n      return arr.reduce((acc, n) => ((acc[n.location_id] ??= []).push(n), acc), {});\r\n    })(arr)\r\n  )\r\n  function getRandom(val) {\r\n    return val[Math.floor(Math.random() * val.length)];\r\n  }\r\n  return Object\r\n    .values(locationsById)\r\n    .map(getRandom);\r\n}\r\n\r\nfunction itemsChange() {\r\n    const filtrItems = document.querySelector('.glampings-filtr-items');\r\n    const glampingsMap = document.querySelector('.glampings-map');\r\n    if (!filtrItems) return;\r\n    filtrItems.addEventListener('click', function(event) {\r\n        let inputs = filtrItems.querySelectorAll('input');\r\n        let input = event.target.closest('input');\r\n\r\n        let glcType = localStorage.getItem('glcType');\r\n        let glcAllocation = localStorage.getItem('glcAllocation');\r\n        let glcWorking = localStorage.getItem('glcWorking');\r\n        let glcNature = localStorage.getItem('glcNature');\r\n        let glcFacilGen = localStorage.getItem('glcFacilGen');\r\n        let glcFacilChildren = localStorage.getItem('glcFacilChildren');\r\n        let glcEntertainment = localStorage.getItem('glcEntertainment');\r\n        let glcTerritory = localStorage.getItem('glcTerritory');\r\n        let glcSafety = localStorage.getItem('glcSafety');\r\n        let glcPrice = localStorage.getItem('glcPrice');\r\n        let glcPriceSt = localStorage.getItem('glcPriceSt');\r\n\r\n        let glcStocks = localStorage.getItem('glcStocks');\r\n        let glcRecom = localStorage.getItem('glcRecom');\r\n\r\n        const names = [\r\n            'glcType',\r\n            'glcAllocation',\r\n            'glcWorking',\r\n            'glcNature',\r\n            'glcFacilGen',\r\n            'glcFacilChildren',\r\n            'glcEntertainment',\r\n            'glcTerritory',\r\n            'glcSafety',\r\n            'glcStocks',\r\n            'glcRecom'\r\n        ];\r\n\r\n        if (input) {\r\n            let glempAll = JSON.parse(glamping_club_ajax.glAll);\r\n            let newgGlempAll =  glempAll.filter(filtrOptionsChange);\r\n            let newgGlempAllForFiltr =  glempAll.filter(filtrOptionsChange);\r\n            sliderUpdatePrice(newgGlempAll);\r\n            let sliderValueStart = priceSliderOption(glempAll);\r\n\r\n            let priceObj = [];\r\n            if (glcPrice) {\r\n                priceObj = glcPrice.split(',');\r\n            }\r\n\r\n            // .filter(elem => elem.stocks != '')\r\n\r\n            newgGlempAll =  glempAll.filter(filtrOptionsChange).filter(priceRange, priceObj.map(Number));\r\n            newgGlempAllForFiltr =  glempAll.filter(filtrOptionsChangeForFiltr).filter(priceRange, priceObj.map(Number));\r\n\r\n            if (document.querySelector('input[name=\"stocks\"]').checked) {\r\n                newgGlempAll =  glempAll.filter(filtrOptionsChange).filter(priceRange, priceObj.map(Number)).filter(elem => elem.stocks != '');\r\n                newgGlempAllForFiltr =  glempAll.filter(filtrOptionsChangeForFiltr).filter(priceRange, priceObj.map(Number)).filter(elem => elem.stocks != '');\r\n            }\r\n            if (document.querySelector('input[name=\"recommended\"]').checked) {\r\n                newgGlempAll =  glempAll.filter(filtrOptionsChange).filter(priceRange, priceObj.map(Number)).filter(elem => elem.recommended == 'yes');\r\n                newgGlempAllForFiltr =  glempAll.filter(filtrOptionsChangeForFiltr).filter(priceRange, priceObj.map(Number)).filter(elem => elem.recommended == 'yes');\r\n            }\r\n\r\n            if (document.querySelector('input[name=\"stocks\"]').checked && document.querySelector('input[name=\"recommended\"]').checked) {\r\n                newgGlempAll =  glempAll.filter(filtrOptionsChange).filter(priceRange, priceObj.map(Number)).filter(elem => elem.stocks != '').filter(elem => elem.recommended == 'yes');\r\n                newgGlempAllForFiltr =  glempAll.filter(filtrOptionsChangeForFiltr).filter(priceRange, priceObj.map(Number)).filter(elem => elem.stocks != '').filter(elem => elem.recommended == 'yes');\r\n            }\r\n\r\n            // console.dir(newgGlempAll);\r\n            // console.dir(newgGlempAllForFiltr);\r\n\r\n            let sortGl = Cookies.get('glcSort');\r\n            if (sortGl) {\r\n                if (sortGl == 'new_items') {\r\n                    newgGlempAll.sort((x, y) => y.post_date - x.post_date);\r\n                } else if (sortGl == 'recommended') {\r\n                    newgGlempAll.sort((x, y) => y.recommended - x.recommended);\r\n                } else if (sortGl == 'max_price') {\r\n                    newgGlempAll.sort((x, y) => y.price - x.price);\r\n                } else if (sortGl == 'min_price') {\r\n                    newgGlempAll.sort((x, y) => x.price - y.price);\r\n                }\r\n                // else if (sortGl == 'popular') {\r\n                //     newgGlempAll.sort((x, y) => y.views - x.views);\r\n                // } else if (sortGl == 'rating') {\r\n                //     newgGlempAll.sort((x, y) => y.review_rating - x.review_rating || y.review_count - x.review_count);\r\n                // }\r\n            }\r\n            const perPageAll = Number(glamping_club_ajax.glc_per_page_all);\r\n            const perPageFull = Number(glamping_club_ajax.glc_per_page_full);\r\n            let perPage = perPageAll;\r\n            if (window.innerWidth > 1649) {\r\n                perPage = perPageFull;\r\n            }\r\n            let glempAllPagin = newgGlempAll.slice(0, perPage);\r\n            glempRender(glempAllPagin);\r\n            let pagesAbs = newgGlempAll.length/perPage;\r\n            let pages = Math.ceil(pagesAbs);\r\n            const navLinks = document.querySelector('.filtr-pagination .nav-links');\r\n            if (pages > 1) {\r\n                if (document.querySelector('.pagination')) {\r\n                    document.querySelector('.pagination').style.display = 'none';\r\n                }\r\n                document.querySelector('.filtr-pagination').style.display = 'flex';\r\n            } else {\r\n                if (document.querySelector('.pagination')) {\r\n                    document.querySelector('.pagination').style.display = 'none';\r\n                }\r\n                document.querySelector('.filtr-pagination').style.display = '';\r\n            }\r\n\r\n            Pagination.Init(navLinks, {\r\n                size: pages, // pages size\r\n                page: 1,  // selected page\r\n                step: 1,   // pages before and after current\r\n                globj: newgGlempAll,\r\n                perPage: perPage\r\n            });\r\n\r\n            window.addEventListener('resize', () => {\r\n                if (document.querySelector('.glampings-items').classList.contains('no-map')) {\r\n                    if (window.innerWidth > 1649) {\r\n                        let perPageFullSt = Number(glamping_club_ajax.glc_per_page_full);\r\n                        let glempAllPagin = newgGlempAll.slice(0, perPageFullSt);\r\n                        glempRender(glempAllPagin);\r\n                        let pagesAbs = newgGlempAll.length/perPageFullSt;\r\n                        let pages = Math.ceil(pagesAbs);\r\n                        const navLinks = document.querySelector('.filtr-pagination .nav-links');\r\n                        if (pages > 1) {\r\n                            if (document.querySelector('.pagination')) {\r\n                                document.querySelector('.pagination').style.display = 'none';\r\n                            }\r\n                            document.querySelector('.filtr-pagination').style.display = 'flex';\r\n                        } else {\r\n                            if (document.querySelector('.pagination')) {\r\n                                document.querySelector('.pagination').style.display = 'none';\r\n                            }\r\n                            document.querySelector('.filtr-pagination').style.display = '';\r\n                        }\r\n\r\n                        Pagination.Init(navLinks, {\r\n                            size: pages, // pages size\r\n                            page: 1,  // selected page\r\n                            step: 1,   // pages before and after current\r\n                            globj: newgGlempAll,\r\n                            perPage: perPageFullSt\r\n                        });\r\n                    } else {\r\n                        let perPageAllSt = Number(glamping_club_ajax.glc_per_page_all);\r\n                        let glempAllPagin = newgGlempAll.slice(0, perPageAllSt);\r\n                        glempRender(glempAllPagin);\r\n                        let pagesAbs = newgGlempAll.length/perPageAllSt;\r\n                        let pages = Math.ceil(pagesAbs);\r\n                        const navLinks = document.querySelector('.filtr-pagination .nav-links');\r\n                        if (pages > 1) {\r\n                            if (document.querySelector('.pagination')) {\r\n                                document.querySelector('.pagination').style.display = 'none';\r\n                            }\r\n                            document.querySelector('.filtr-pagination').style.display = 'flex';\r\n                        } else {\r\n                            if (document.querySelector('.pagination')) {\r\n                                document.querySelector('.pagination').style.display = 'none';\r\n                            }\r\n                            document.querySelector('.filtr-pagination').style.display = '';\r\n                        }\r\n\r\n                        Pagination.Init(navLinks, {\r\n                            size: pages, // pages size\r\n                            page: 1,  // selected page\r\n                            step: 1,   // pages before and after current\r\n                            globj: newgGlempAll,\r\n                            perPage: perPageAllSt\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n\r\n            checkLocalCheng(input, input.dataset.name, '');\r\n\r\n            if (input.dataset.name == 'glcStocks') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n            }\r\n\r\n            if (input.dataset.name == 'glcRecom') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n\r\n            if (input.dataset.name == 'glcRegion') {\r\n                // locationsArchive(newgGlempAll);\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n\r\n            if (input.dataset.name == 'glcType') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n\r\n                // filtrTypeArchive(newgGlempAll);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n            if (input.dataset.name == 'glcAllocation') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                // filtrAllocationArchive(newgGlempAll);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n            if (input.dataset.name == 'glcWorking') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                // filtrWorkingArchive(newgGlempAll);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n            if (input.dataset.name == 'glcNature') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                // filtrNatureArchive(newgGlempAll);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n            if (input.dataset.name == 'glcFacilGen') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                // filtrFacilitiesGeneralArchive(newgGlempAll);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n            if (input.dataset.name == 'glcFacilChildren') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                // filtrChildrenArchive(newgGlempAll);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n            if (input.dataset.name == 'glcEntertainment') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgnewgGlempAllForFiltrGempAll);\r\n                } else {\r\n                    locationsArchive(glemAll);\r\n                }\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                // filtrErtainmentArchive(newgGlempAll);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n            if (input.dataset.name == 'glcTerritory') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                // filtrTerritoryArchive(newgGlempAll);\r\n                filtrSafetyArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n            }\r\n            if (input.dataset.name == 'glcSafety') {\r\n                if (itemsVal(inputs, names) || glcPrice !== glcPriceSt) {\r\n                    locationsArchive(newgGlempAllForFiltr);\r\n                } else {\r\n                    locationsArchive(glempAll);\r\n                }\r\n                filtrTypeArchive(newgGlempAllForFiltr);\r\n                filtrAllocationArchive(newgGlempAllForFiltr);\r\n                filtrWorkingArchive(newgGlempAllForFiltr);\r\n                filtrNatureArchive(newgGlempAllForFiltr);\r\n                filtrFacilitiesGeneralArchive(newgGlempAllForFiltr);\r\n                filtrChildrenArchive(newgGlempAllForFiltr);\r\n                filtrErtainmentArchive(newgGlempAllForFiltr);\r\n                filtrTerritoryArchive(newgGlempAllForFiltr);\r\n                filtrRecommended(newgGlempAllForFiltr);\r\n                filtrStocks(newgGlempAllForFiltr);\r\n                // filtrSafetyArchive(newgGlempAll);\r\n            }\r\n\r\n            glampingsMap.children[0].innerHTML = '';\r\n            mapRender(mapPointTest(newgGlempAll));\r\n            agc(newgGlempAll);\r\n\r\n            chekAllFitrs();\r\n\r\n            // console.dir(itemsVal(inputs, names));\r\n        }\r\n    });\r\n}\r\nitemsChange();\r\n\r\nfunction itemsVal(inputs, names) {\r\n    let inputChecked = [];\r\n    let inputCheckedName = [];\r\n    inputs.forEach((input) => {\r\n        if (input.checked == true) {\r\n            inputChecked.push(input);\r\n            inputCheckedName.push(input.dataset.name);\r\n        }\r\n    });\r\n    // return inputChecked;\r\n    let checkedName = makeUniq(inputCheckedName);\r\n    let elExists = checkedName.some(el => names.includes(el));\r\n\r\n    return elExists;\r\n}\r\n\r\nfunction checkLocalCheng(item, lsName, filtrItemCount) {\r\n    let count = item.closest('div.filtr-item').children[0].children[1];\r\n    let ls_obj = [];\r\n    let ls_obj_new = [];\r\n    if ( localStorage.getItem(lsName) ) {\r\n        ls = localStorage.getItem(lsName);\r\n        if (ls.includes(',')) {\r\n            ls_obj = ls.split(',');\r\n            if (item.checked == false) {\r\n                let ls_obj_new = ls_obj.filter(function(e) { return e !== item.name });\r\n                if (ls_obj_new.length == 0) {\r\n                    localStorage.removeItem(lsName)\r\n                } else {\r\n                    localStorage.setItem(lsName, ls_obj_new);\r\n                }\r\n            } else {\r\n                ls_obj.push(item.name);\r\n                ls_obj_new = ls_obj; //.slice();\r\n                localStorage.setItem(lsName, ls_obj_new);\r\n            }\r\n        } else {\r\n            ls_obj.push(ls);\r\n            if (item.checked == false && item.name == ls) {\r\n                localStorage.removeItem(lsName)\r\n            } else {\r\n                ls_obj.push(item.name);\r\n                let ls_obj_new = ls_obj.join(',');\r\n                localStorage.setItem(lsName, ls_obj_new);\r\n            }\r\n        }\r\n    } else {\r\n        ls_obj.push(item.name);\r\n        let ls_obj_new = ls_obj.join(',');\r\n        localStorage.setItem(lsName, ls_obj_new);\r\n    }\r\n    lsf = localStorage.getItem(lsName);\r\n    ls_objf = [];\r\n    if (lsf) {\r\n        if (lsf.includes(',')) {\r\n            ls_objf = lsf.split(',');\r\n            if (ls_objf.length == 0) {\r\n                if (count) {\r\n                    count.innerText = '';\r\n                }\r\n                // item.parentElement.parentElement.previousElementSibling.children[1].innerText = '';\r\n            } else {\r\n                if (count) {\r\n                    count.innerText = ls_objf.length;\r\n                }\r\n                // count.innerText = ls_objf.length;\r\n                // item.parentElement.parentElement.previousElementSibling.children[1].innerText = ls_objf.length;\r\n            }\r\n        } else {\r\n            if (count) {\r\n                count.innerText = 1;\r\n            }\r\n            // item.parentElement.parentElement.previousElementSibling.children[1].innerText = 1;\r\n        }\r\n    } else {\r\n        if (count) {\r\n            count.innerText = '';\r\n        }\r\n        // item.parentElement.parentElement.previousElementSibling.children[1].innerText = '';\r\n    }\r\n}\r\n\r\nfunction countFiltrItem(name, countSelector) {\r\n    lsf = localStorage.getItem(name);\r\n    ls_objf = [];\r\n    if (lsf) {\r\n        if (lsf.includes(',')) {\r\n            ls_objf = lsf.split(',');\r\n            if (ls_objf.length == 0) {\r\n                countSelector.children[0].children[1].innerText = '';\r\n            } else {\r\n                countSelector.children[0].children[1].innerText = ls_objf.length;\r\n            }\r\n        } else {\r\n            countSelector.children[0].children[1].innerText = 1;\r\n        }\r\n    } else {\r\n        countSelector.children[0].children[1].innerText = '';\r\n    }\r\n}\r\n\r\nfunction filtrOptionsChange(item, index, arr) {\r\n    const inputs = document.querySelectorAll('.glampings-filtr-items input');\r\n    let region = [];\r\n    let types = [];\r\n    let allocation = [];\r\n    let working = [];\r\n    let nature = [];\r\n    let facilGen = [];\r\n    let facilChildren = [];\r\n    let entertainment = [];\r\n    let territory = [];\r\n    let safety = [];\r\n    let stocks = 0;\r\n    inputs.forEach((input) => {\r\n        if (input.checked == true) {\r\n            if (input.dataset.name == 'glcRegion') {\r\n                region.push(input.id);\r\n            } else if (input.dataset.name == 'glcType') {\r\n                types.push(input.id);\r\n            } else if (input.dataset.name == 'glcAllocation') {\r\n                allocation.push(input.id);\r\n            } else if (input.dataset.name == 'glcWorking') {\r\n                working.push(input.id);\r\n            } else if (input.dataset.name == 'glcNature') {\r\n                nature.push(input.id);\r\n            } else if (input.dataset.name == 'glcFacilGen') {\r\n                facilGen.push(input.id);\r\n            } else if (input.dataset.name == 'glcFacilChildren') {\r\n                facilChildren.push(input.id);\r\n            } else if (input.dataset.name == 'glcEntertainment') {\r\n                entertainment.push(input.id);\r\n            } else if (input.dataset.name == 'glcTerritory') {\r\n                territory.push(input.id);\r\n            } else if (input.dataset.name == 'glcSafety') {\r\n                safety.push(input.id);\r\n            } else if (input.dataset.name == 'glcStocks') {\r\n                stocks = 1;\r\n            }\r\n        }\r\n    });\r\n\r\n    let regionIncl = 1;\r\n    if (region.length) {\r\n        regionIncl = region.map(Number).includes(item.location_id);\r\n    }\r\n\r\n    let typesIncl = 1;\r\n    if (types.length) {\r\n        typesIncl = types.some((element) => item.type.includes(element));\r\n    }\r\n\r\n    let allocationIncl = 1;\r\n    if (allocation.length) {\r\n        typesIncl = allocation.some((element) => item.allocation.includes(element));\r\n    }\r\n\r\n    let workingIncl = 1;\r\n    if (working.length) {\r\n        workingIncl = working.some((element) => item.working_mode_seasons.includes(element));\r\n\r\n        // workingIncl = working.some((element) => {\r\n        //     if (element == 'whole_year') {\r\n        //         item.working_mode.includes(element);\r\n        //     } else {\r\n        //         item.working_mode_seasons.includes(element);\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    let natureIncl = 1;\r\n    if (nature.length) {\r\n        natureIncl = nature.some((element) => item.nature_around.includes(element));\r\n    }\r\n\r\n    let facilGenIncl = 1;\r\n    if (facilGen.length) {\r\n        facilGenIncl = facilGen.some((element) => item.facilities_general.includes(element));\r\n    }\r\n\r\n    let facilChildrenIncl = 1;\r\n    if (facilChildren.length) {\r\n        facilChildrenIncl = facilChildren.some((element) => item.facilities_children.includes(element));\r\n    }\r\n\r\n    let entertainmentIncl = 1;\r\n    if (entertainment.length) {\r\n        entertainmentIncl = entertainment.some((element) => item.entertainment.includes(element));\r\n    }\r\n\r\n    let territoryIncl = 1;\r\n    if (territory.length) {\r\n        territoryIncl = territory.some((element) => item.territory.includes(element));\r\n    }\r\n\r\n    let safetyIncl = 1;\r\n    if (safety.length) {\r\n        safetyIncl = safety.some((element) => item.safety.includes(element));\r\n    }\r\n\r\n    // let stocksIncl = 1; // glcStocks\r\n    // if (stocks) {\r\n    //     stocksIncl = stocks.some((element) => !item.stocks.includes(''));\r\n    // }\r\n\r\n    if ( regionIncl &&\r\n        typesIncl &&\r\n        allocationIncl &&\r\n        workingIncl &&\r\n        natureIncl &&\r\n        facilGenIncl &&\r\n        facilChildrenIncl &&\r\n        entertainmentIncl &&\r\n        territoryIncl &&\r\n        safetyIncl)\r\n    {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction filtrOptionsChangeForFiltr(item, index, arr) {\r\n    const inputs = document.querySelectorAll('.glampings-filtr-items input');\r\n    let region = [];\r\n    let types = [];\r\n    let allocation =[];\r\n    let working =[];\r\n    let nature =[];\r\n    let facilGen =[];\r\n    let facilChildren =[];\r\n    let entertainment =[];\r\n    let territory =[];\r\n    let safety =[];\r\n    inputs.forEach((input) => {\r\n        if (input.checked == true) {\r\n            if (input.dataset.name == 'glcRegion') {\r\n                region.push(input.id);\r\n            } else if (input.dataset.name == 'glcType') {\r\n                types.push(input.id);\r\n            } else if (input.dataset.name == 'glcAllocation') {\r\n                allocation.push(input.id);\r\n            } else if (input.dataset.name == 'glcWorking') {\r\n                working.push(input.id);\r\n            } else if (input.dataset.name == 'glcNature') {\r\n                nature.push(input.id);\r\n            } else if (input.dataset.name == 'glcFacilGen') {\r\n                facilGen.push(input.id);\r\n            } else if (input.dataset.name == 'glcFacilChildren') {\r\n                facilChildren.push(input.id);\r\n            } else if (input.dataset.name == 'glcEntertainment') {\r\n                entertainment.push(input.id);\r\n            } else if (input.dataset.name == 'glcTerritory') {\r\n                territory.push(input.id);\r\n            } else if (input.dataset.name == 'glcSafety') {\r\n                safety.push(input.id);\r\n            }\r\n        }\r\n    });\r\n\r\n    let regionIncl = 1;\r\n    if (region.length) {\r\n        regionIncl = region.map(Number).includes(item.location_id);\r\n    }\r\n\r\n    let typesIncl = 1;\r\n    if (types.length) {\r\n        typesIncl = types.some((element) => item.type.includes(element));\r\n    }\r\n\r\n    let allocationIncl = 1;\r\n    if (allocation.length) {\r\n        typesIncl = allocation.some((element) => item.allocation.includes(element));\r\n    }\r\n\r\n    let workingIncl = 1;\r\n    if (working.length) {\r\n        workingIncl = working.some((element) => item.working_mode_seasons.includes(element));\r\n\r\n        // workingIncl = working.some((element) => {\r\n        //     if (element == 'whole_year') {\r\n        //         item.working_mode.includes(element);\r\n        //     } else {\r\n        //         item.working_mode_seasons.includes(element);\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    let natureIncl = 1;\r\n    if (nature.length) {\r\n        natureIncl = nature.some((element) => item.nature_around.includes(element));\r\n    }\r\n\r\n    let facilGenIncl = 1;\r\n    if (facilGen.length) {\r\n        facilGenIncl = facilGen.some((element) => item.facilities_general.includes(element));\r\n    }\r\n\r\n    let facilChildrenIncl = 1;\r\n    if (facilChildren.length) {\r\n        facilChildrenIncl = facilChildren.some((element) => item.facilities_children.includes(element));\r\n    }\r\n\r\n    let entertainmentIncl = 1;\r\n    if (entertainment.length) {\r\n        entertainmentIncl = entertainment.some((element) => item.entertainment.includes(element));\r\n    }\r\n\r\n    let territoryIncl = 1;\r\n    if (territory.length) {\r\n        territoryIncl = territory.some((element) => item.territory.includes(element));\r\n    }\r\n\r\n    let safetyIncl = 1;\r\n    if (safety.length) {\r\n        safetyIncl = safety.some((element) => item.safety.includes(element));\r\n    }\r\n\r\n    if ( regionIncl && typesIncl && allocationIncl && workingIncl && natureIncl && facilGenIncl && facilChildrenIncl && entertainmentIncl && territoryIncl && safetyIncl ) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction priceRange(item) {\r\n    if (Number(item.price) >= this[0] && Number(item.price) <= this[1]) {\r\n        return item;\r\n    }\r\n}\r\n\r\nfunction stocks(item) {\r\n    if (item.stocks != '') {\r\n        return item;\r\n    }\r\n}\r\n\r\nfunction glempRender(glemps) {\r\n    const glampingsItems = document.querySelector('.glampings-items');\r\n    let glcFav = favoritesRenderFiltr('glcFav');\r\n    let glcCompar = favoritesRenderFiltr('glcCompar');\r\n    glampingsItems.innerHTML = '';\r\n    glemps.forEach((glemp) => {\r\n        let recommended = glemp.recommended;\r\n        let recRend = ``;\r\n        if (recommended == 'yes') {\r\n            recRend = `<div class=\"glamping-item__sr__item recommended\">Рекомендуем</div>`;\r\n        }\r\n        let stocks = glemp.stocks_title;\r\n        let stocksRend = ``;\r\n        if (stocks) {\r\n            stocksRend = `<div class=\"glamping-item__sr__item stocks\">${glemp.stocks_title}</div>`;\r\n        }\r\n\r\n        let price = currFormat(glemp.price);\r\n        let type = glemp.type.join(', ');\r\n        let clFav = '';\r\n        let clCompar = '';\r\n        let titleFav = 'Добавить в избранное';\r\n        let titleCompar = 'Добавить к сравнению';\r\n        if (glcFav.includes(glemp.id)) {\r\n            clFav = ' active';\r\n            titleFav = 'Удалить из избранного';\r\n        }\r\n        if (glcCompar.includes(glemp.id)) {\r\n            clCompar = ' active';\r\n            titleCompar = 'Удалить из сравнения';\r\n        }\r\n        let slider = ``;\r\n        glemp.media_urls.forEach((item) => {\r\n            slider += `<div class=\"swiper-slide\"><img src=\"${item}\" alt=\"\" loading=\"lazy\" /></div>`;\r\n        });\r\n        // let rating = reviews_stars_items_average( 2.9, 4 );\r\n        let rating = reviews_stars_items_average( glemp.average_rating, glemp.count_rating );\r\n\r\n        glampingsItems.insertAdjacentHTML(\r\n            \"beforeEnd\",\r\n            `<div id=\"post-${glemp.id}\" class=\"glamping-item\" title=\"${glemp.title}\">\r\n            \t<a href=\"${glemp.url}\" class=\"glamping-item__url\" rel=\"bookmark\"></a>\r\n                <div class=\"glamping-item__sr\">\r\n                ${recRend}\r\n                ${stocksRend}\r\n                </div>\r\n                <div class=\"glamping-item__btns-fav-comp\">\r\n            \t\t<button id=\"add-favorites\" data-postid=\"${glemp.id}\" class=\"glamping-item__btns-fav-comp__btn-add-fav round-sup-red${clFav}\" type=\"button\" name=\"button\" title=\"${titleFav}\">\r\n            \t\t\t<svg width=\"40\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n            \t\t\t\t<path d=\"M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z\"/>\r\n            \t\t\t</svg>\r\n            \t\t</button>\r\n            \t\t<button id=\"add-comparison\" data-postid=\"${glemp.id}\" class=\"glamping-item__btns-fav-comp__btn-add-comp round-sup-red${clCompar}\" type=\"button\" name=\"button\" title=\"${titleCompar}\">\r\n            \t\t\t<svg class=\"rotate90\" width=\"40\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n            \t\t\t\t<path d=\"M448 64c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z\"/>\r\n            \t\t\t</svg>\r\n            \t\t</button>\r\n            \t</div>\r\n            \t<div class=\"glamping-item__thumbnail\">\r\n                    <div id=\"slider-post-${glemp.id}\" class=\"swiper slider-post-${glemp.id}\">\r\n                        <div class=\"swiper-wrapper\">${slider}</div>\r\n                    \t<div class=\"swiper-button-next\"></div>\r\n                    \t<div class=\"swiper-button-prev\"></div>\r\n                    \t<div class=\"swiper-pagination\"></div>\r\n                    </div>\r\n            \t</div>\r\n            \t<div class=\"glamping-item__content\">\r\n            \t\t<div class=\"glamping-item__content__left\">\r\n            \t\t\t<div class=\"glamping-item__content__title\">${glemp.title}</div>\r\n            \t\t\t<div class=\"glamping-item__content__rating\">${rating}</div>\r\n            \t\t\t<div class=\"glamping-item__content__bottom\">\r\n            \t\t\t\t<div class=\"glamping-item__content__bottom__type\">\r\n            \t\t\t\t\t<svg width=\"10\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\">\r\n                                    <path d=\"M394.3 3.745C401.1 9.425 401.9 19.52 396.3 26.29L308.9 130.4L532.8 397.2C540 405.8 544 416.7 544 428V464C544 490.5 522.5 512 496 512H80C53.49 512 32 490.5 32 464V428C32 416.7 35.98 405.8 43.23 397.2L267.1 130.4L179.7 26.29C174.1 19.52 174.9 9.425 181.7 3.745C188.5-1.936 198.6-1.054 204.3 5.715L287.1 105.5L371.7 5.715C377.4-1.054 387.5-1.936 394.3 3.745H394.3zM64 428V464C64 472.8 71.16 480 80 480H129.9L275.4 294.1C278.4 290.3 283.1 288 288 288C292.9 288 297.6 290.3 300.6 294.1L446.1 480H496C504.8 480 512 472.8 512 464V428C512 424.2 510.7 420.6 508.3 417.7L288 155.3L67.74 417.7C65.33 420.6 64 424.2 64 428zM170.6 480H405.4L288 329.1L170.6 480z\"></path>\r\n                                </svg>\r\n            \t\t\t\t\t${type}\r\n            \t\t\t\t</div>\r\n            \t\t\t\t<div class=\"glamping-item__content__bottom__address\">\r\n            \t\t            <a href=\"#map-container\" title=\"На карте\">\r\n            \t\t                <svg width=\"10\" height=\"10\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            \t\t                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 2C9.87827 2 7.84344 2.84285 6.34315 4.34315C4.84285 5.84344 4 7.87827 4 10C4 13.0981 6.01574 16.1042 8.22595 18.4373C9.31061 19.5822 10.3987 20.5195 11.2167 21.1708C11.5211 21.4133 11.787 21.6152 12 21.7726C12.213 21.6152 12.4789 21.4133 12.7833 21.1708C13.6013 20.5195 14.6894 19.5822 15.774 18.4373C17.9843 16.1042 20 13.0981 20 10C20 7.87827 19.1571 5.84344 17.6569 4.34315C16.1566 2.84285 14.1217 2 12 2ZM12 23C11.4453 23.8321 11.445 23.8319 11.4448 23.8317L11.4419 23.8298L11.4352 23.8253L11.4123 23.8098C11.3928 23.7966 11.3651 23.7776 11.3296 23.753C11.2585 23.7038 11.1565 23.6321 11.0278 23.5392C10.7705 23.3534 10.4064 23.0822 9.97082 22.7354C9.10133 22.043 7.93939 21.0428 6.77405 19.8127C4.48426 17.3958 2 13.9019 2 10C2 7.34784 3.05357 4.8043 4.92893 2.92893C6.8043 1.05357 9.34784 0 12 0C14.6522 0 17.1957 1.05357 19.0711 2.92893C20.9464 4.8043 22 7.34784 22 10C22 13.9019 19.5157 17.3958 17.226 19.8127C16.0606 21.0428 14.8987 22.043 14.0292 22.7354C13.5936 23.0822 13.2295 23.3534 12.9722 23.5392C12.8435 23.6321 12.7415 23.7038 12.6704 23.753C12.6349 23.7776 12.6072 23.7966 12.5877 23.8098L12.5648 23.8253L12.5581 23.8298L12.556 23.8312C12.5557 23.8314 12.5547 23.8321 12 23ZM12 23L12.5547 23.8321C12.2188 24.056 11.7807 24.0556 11.4448 23.8317L12 23Z\" fill=\"black\"></path>\r\n            \t\t                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 8C10.8954 8 10 8.89543 10 10C10 11.1046 10.8954 12 12 12C13.1046 12 14 11.1046 14 10C14 8.89543 13.1046 8 12 8ZM8 10C8 7.79086 9.79086 6 12 6C14.2091 6 16 7.79086 16 10C16 12.2091 14.2091 14 12 14C9.79086 14 8 12.2091 8 10Z\" fill=\"black\"></path>\r\n            \t\t                </svg>\r\n            \t\t                ${glemp.adress}\r\n            \t\t            </a>\r\n            \t\t        </div>\r\n            \t\t\t</div>\r\n            \t\t</div>\r\n                    <div class=\"glamping-item__content__right\">\r\n            \t\t\t<div class=\"glamping-item__content__right__price\">\r\n            \t\t\t\t<span class=\"price-number\">От ${price} р.</span>\r\n            \t\t\t\t<span class=\"price-text\">за 1 ночь</span>\r\n            \t\t\t</div>\r\n            \t\t\t<div class=\"glamping-item__content__right__btn\">\r\n            \t\t\t\t<a href=\"${glemp.url}\" class=\"primary-light green nxl ntext w100 btnvib\">Подробнее</a>\r\n            \t\t\t</div>\r\n            \t\t</div>\r\n            \t</div>\r\n            </div>`\r\n        )\r\n    });\r\n    sliderInit();\r\n}\r\n\r\nfunction makeUniq(arr) { return [...new Set(arr)]; }\r\nfunction makeUniqSort(arr) { return [...new Set(arr)].sort(); }\r\nfunction makeUniqNum(arr) { return [...new Set(arr)].sort(function(a, b){return a - b}); }\r\nfunction myGeeks(array) {\r\n    let filtered = array.filter(function (el) {\r\n        return el != null;\r\n    });\r\n}\r\nfunction currFormat(num) {\r\n    let nf = Intl.NumberFormat(\r\n        'ru-RU',\r\n        {\r\n            // 'currency': 'RUB',\r\n            // style:\"currency\",\r\n            minimumFractionDigits:0,\r\n            maximumFractionDigits:0\r\n        }\r\n    ).format(num);\r\n    return nf;\r\n}\r\nfunction montsSort(arr) {\r\n    let monts = [];\r\n    arr.forEach((mont) => {\r\n        if (mont == 'Весь год') {\r\n            monts[0] = 'Весь год';\r\n        }\r\n        if (mont == 'январь') {\r\n            monts[1] = 'январь';\r\n        }\r\n        if (mont == 'февраль') {\r\n            monts[2] = 'февраль';\r\n        }\r\n        if (mont == 'март') {\r\n            monts[3] = 'март';\r\n        }\r\n        if (mont == 'апрель') {\r\n            monts[4] = 'апрель';\r\n        }\r\n        if (mont == 'май') {\r\n            monts[5] = 'май';\r\n        }\r\n        if (mont == 'июнь') {\r\n            monts[6] = 'июнь';\r\n        }\r\n        if (mont == 'июль') {\r\n            monts[7] = 'июль';\r\n        }\r\n        if (mont == 'август') {\r\n            monts[8] = 'август';\r\n        }\r\n        if (mont == 'сентябрь') {\r\n            monts[9] = 'сентябрь';\r\n        }\r\n        if (mont == 'октябрь') {\r\n            monts[10] = 'октябрь';\r\n        }\r\n        if (mont == 'ноябрь') {\r\n            monts[11] = 'ноябрь';\r\n        }\r\n        if (mont == 'декабрь') {\r\n            monts[12] = 'декабрь';\r\n        }\r\n    });\r\n    return monts;\r\n}\r\n\r\nfunction favoritesRenderFiltr(name) {\r\n    const glcFav = Cookies.get(name);\r\n    let glcFav_obj = [];\r\n    if (glcFav) {\r\n        glcFav_obj = glcFav.split(',').map(Number);\r\n    }\r\n    return glcFav_obj;\r\n}\r\n\r\nfunction sliderArchiveGlampings(elem) {\r\n    const mySl = new Swiper(elem, {\r\n        loop: true,\r\n        navigation: {\r\n            nextEl: \".swiper-button-next\",\r\n            prevEl: \".swiper-button-prev\",\r\n        },\r\n        pagination: {\r\n            el: \".swiper-pagination\",\r\n            clickable: true,\r\n        },\r\n    });\r\n}\r\n\r\nfunction sliderInit() {\r\n    const sliders = document.querySelectorAll('.glamping-item');\r\n    if (!sliders.length) return;\r\n    sliders.forEach((item) => {\r\n        let sl = '.slider-'+item.id;\r\n        sliderArchiveGlampings(sl);\r\n    });\r\n\r\n}\r\nsliderInit();\r\n// var map;\r\nfunction mapRender(geoData) {\r\n    const archiveGlampings = document.querySelector('#archive-glampings');\r\n    if (!archiveGlampings) return;\r\n    ymaps.ready(init);\r\n    var map;\r\n\tfunction init() {\r\n        // var map;\r\n\t\tvar geoJson = geoData; //JSON.parse(glamping_club_ajax.glAllMap);\r\n\t\tvar zoomNum = (glamping_club_ajax.yand_zoom) ? Number(glamping_club_ajax.yand_zoom) : 12;\r\n\t\tmap = new ymaps.Map('mapYandex',\r\n            {\r\n                center: [54.9924, 73.3686],\r\n                zoom: zoomNum,\r\n                controls: ['zoomControl',  'fullscreenControl']\r\n            },\r\n            {\r\n                suppressMapOpenBlock: true,\r\n                balloonPanelMaxMapArea: 390000,\r\n                // balloonPanelMaxMapArea: Infinity\r\n                // balloonMaxWidth: 270\r\n            }\r\n        ),\r\n\t\t// map.behaviors.disable(['scrollZoom']);\r\n\r\n        MyPanelContentLayout = ymaps.templateLayoutFactory.createClass(\r\n\t\t\t'$[properties.balloonContentBodyPan]'\r\n\t    ),\r\n\r\n\t\tobjectManager = new ymaps.ObjectManager({\r\n\t\t\tclusterize: true,\r\n\t\t\tgridSize: 32,\r\n            // viewportMargin: 50\r\n\t\t\t// clusterDisableClickZoom: true\r\n\t\t});\r\n\t\tobjectManager.clusters.options.set({preset: 'islands#darkGreenClusterIcons', clusterIconColor: '#467A3C'}); //  , clusterIconColor: '#00ABAA'\r\n\t\tobjectManager.objects.options.set(\r\n            {\r\n                iconLayout: 'default#imageWithContent',\r\n                iconImageHref: '',\r\n                iconImageSize: [80, 24],\r\n                iconImageOffset: [-40, -30]\r\n            },\r\n            // {preset: 'islands#darkGreenStretchyIcon'}\r\n        ); //  islands#greenMountainIcon, iconColor: '#00ABAA'\r\n\t\tobjectManager.add(geoJson);\r\n\t\tmap.geoObjects.add(objectManager);\r\n        objectManager.objects.options.set({\r\n\t\t\tballoonPanelContentLayout: MyPanelContentLayout\r\n        });\r\n        if (geoData.features.length == 1) {\r\n            map.setCenter(map.geoObjects.getBounds()[0], 14, {checkZoomRange: true});\r\n        } else {\r\n            map.setBounds(map.geoObjects.getBounds(), {checkZoomRange:true, zoomMargin:9, useMapMargin: true});\r\n        }\r\n\t\tmap.geoObjects.events.add('mouseenter', function (e) {\r\n\t\t\tlet id = e.get('objectId');\r\n            const markerst = document.querySelectorAll('.ymaps-2-1-79-map .glc-icon-content');\r\n            markerst.forEach((item) => {\r\n                if (item.id == id) {\r\n                    item.classList.add('active');\r\n                }\r\n            });\r\n\t\t});\r\n        map.geoObjects.events.add('mouseleave', function (e) {\r\n            let id = e.get('objectId');\r\n            const markerst = document.querySelectorAll('.ymaps-2-1-79-map .glc-icon-content');\r\n            markerst.forEach((item) => {\r\n                if (item.id == id) {\r\n                    item.classList.remove('active');\r\n                }\r\n            });\r\n\t\t});\r\n\r\n        map.geoObjects.events.add('click', function (e) {\r\n\t\t\tconst id = e.get('objectId');\r\n            const markerst = document.querySelectorAll('.ymaps-2-1-79-map .glc-icon-content');\r\n            markerst.forEach((item) => {\r\n                if (item.id == id) {\r\n                    item.classList.add('focus');\r\n                }\r\n            });\r\n\t\t});\r\n\r\n        map.geoObjects.events.add('balloonclose', function (e) {\r\n            const id = e.get('objectId');\r\n            const markerst = document.querySelectorAll('.ymaps-2-1-79-map .glc-icon-content');\r\n            markerst.forEach((item) => {\r\n                if (item.id == id) {\r\n                    item.classList.remove('focus');\r\n                }\r\n            });\r\n        });\r\n\r\n        map.geoObjects.events.add('balloonopen', function (e) {\r\n            const id = e.get('objectId');\r\n            // console.dir(id);\r\n            const addFavorites = document.querySelector('.ymaps-2-1-79-balloon__content #add-favorites');\r\n            const addComparison = document.querySelector('.ymaps-2-1-79-balloon__content #add-comparison');\r\n            const supFavorites = document.querySelectorAll('#sup-favorites');\r\n            const supComparison = document.querySelectorAll('#sup-comparison');\r\n\r\n            let glcFav = favoritesRenderNologin('glcFav');\r\n            let glcCompar = favoritesRenderNologin('glcCompar');\r\n\r\n            if (addFavorites) {\r\n                if (glcFav.includes(addFavorites.dataset.postid)) {\r\n                    addFavorites.classList.add('active');\r\n                    addFavorites.attributes.title.value = 'Удалить из избранного';\r\n                }\r\n                addFavorites.addEventListener('click', (e) => {\r\n                    let addFavoritesBtnSingle = document.querySelector('button#add-favorites[data-postid=\"'+addFavorites.dataset.postid+'\"]');\r\n                    mapFavComAction(addFavorites, addFavoritesBtnSingle, supFavorites, 'glcFav');\r\n                });\r\n            }\r\n            if (addComparison) {\r\n                if (glcCompar.includes(addComparison.dataset.postid)) {\r\n                    addComparison.classList.add('active');\r\n                    addComparison.attributes.title.value = 'Удалить из сравнения';\r\n                }\r\n                addComparison.addEventListener('click', (e) => {\r\n                    let addComparisonBtnSingle = document.querySelector('button#add-comparison[data-postid=\"'+addComparison.dataset.postid+'\"]');\r\n                    mapFavComAction(addComparison, addComparisonBtnSingle, supComparison, 'glcCompar');\r\n                });\r\n            }\r\n\r\n            var swiper = new Swiper(\".balloonPan\", {\r\n                slidesPerView: 1,\r\n                spaceBetween: 4,\r\n                loop: true,\r\n                navigation: {\r\n                    nextEl: \".swiper-button-next\",\r\n                    prevEl: \".swiper-button-prev\",\r\n                },\r\n                breakpoints: {\r\n                    340: {\r\n                        slidesPerView: 2,\r\n                    },\r\n                    414: {\r\n                        slidesPerView: 3,\r\n                    }\r\n                },\r\n            });\r\n        });\r\n\r\n        map.events.add('click', function() {\r\n            map.balloon.close();\r\n        });\r\n\r\n        document.addEventListener('click', (e) => {\r\n            if (!e.target.closest('#mapYandex')) {\r\n                map.balloon.close();\r\n            }\r\n        });\r\n\r\n        // const btns = document.querySelectorAll('.js-btn-filtr');\r\n        // btns.forEach((btn) => {\r\n        //     btn.addEventListener('click', (e)=> {\r\n        //         let mainWidth = document.querySelector('.archive-glampings').clientWidth; //-690\r\n        //         let glLeft = document.querySelector('.archive-glampings__left').clientWidth;\r\n        //         let glMap = document.querySelector('.glampings-map').clientWidth;\r\n        //         console.dir(mainWidth);\r\n        //         console.dir(glLeft);\r\n        //         console.dir(glMap);\r\n        //\r\n        //         const filtr = document.querySelector('.glampings-filtr');\r\n        //         const btnHidden = document.querySelector('.glampings-filtr-hidden');\r\n        //         filtr.classList.toggle('visible-hidden');\r\n        //         let elemWidth = document.querySelector('.glampings-map.active').clientWidth; //-270\r\n        //         if (filtr.classList.contains('visible-hidden')) {\r\n        //             let mapWidth = mainWidth-960;\r\n        //             btnHidden.classList.add('visible-hidden');\r\n        //             // document.querySelector('.archive-glampings__left').style.width = 'auto';\r\n        //             // document.querySelector('.glampings-map').style.maxWidth = '100%';\r\n        //             // document.querySelector('.glampings-map__content').style.width = mapWidth+'px';\r\n        //             // elemWidth = document.querySelector('.glampings-map.active').clientWidth;\r\n        //             console.dir(mapWidth);\r\n        //             map.container.getElement().style.width = mapWidth+'px';\r\n        //             map.container.fitToViewport();\r\n        //         } else {\r\n        //             let mapWidth = glMap+270;\r\n        //             btnHidden.classList.remove('visible-hidden');\r\n        //             // document.querySelector('.glampings-map').style.maxWidth = '';\r\n        //             // document.querySelector('.archive-glampings__left').style.width = '';\r\n        //             document.querySelector('.glampings-map__content').style.width = mapWidth+'px'; //elemWidth+'px';\r\n        //             console.dir(elemWidth);\r\n        //             map.container.getElement().style.width = mapWidth+'px';\r\n        //             map.container.fitToViewport();\r\n        //         }\r\n        //     });\r\n        // });\r\n\r\n        if (!localStorage.getItem('filtrHidden')) {\r\n            filtrHidden(map);\r\n            localStorage.setItem('filtrHidden', 'yes');\r\n        }\r\n\t}\r\n    markersHover();\r\n}\r\nif (!localStorage.getItem('glcRefFront')) {\r\n    mapRender(JSON.parse(glamping_club_ajax.glAllMap));\r\n} else {\r\n    localStorage.removeItem('glcRefFront');\r\n}\r\n\r\nfunction filtrHidden(map) {\r\n    const btns = document.querySelectorAll('.js-btn-filtr');\r\n    btns.forEach((btn) => {\r\n        btn.addEventListener('click', (e)=> {\r\n            let mainWidth = document.querySelector('.archive-glampings').clientWidth; //-690\r\n            let glLeft = document.querySelector('.archive-glampings__left').clientWidth;\r\n            let glMap = document.querySelector('.glampings-map').clientWidth;\r\n\r\n            const filtr = document.querySelector('.glampings-filtr');\r\n            const btnHidden = document.querySelector('.glampings-filtr-hidden');\r\n            // filtr.classList.toggle('my-scrollbar');\r\n            filtr.classList.toggle('visible-hidden');\r\n            btnHidden.classList.toggle('visible-hidden');\r\n\r\n            // let elemWidth = document.querySelector('.glampings-map.active').clientWidth; //-270\r\n            if (document.querySelector('.glampings-filtr').classList.contains('visible-hidden')) {\r\n                filtr.style.height = 'auto';\r\n                let mapWidth = mainWidth-960;\r\n                document.querySelector('.glampings-map__content').style.width = mainWidth+'px';\r\n                map.container.getElement().style.width = mapWidth+'px';\r\n                map.container.fitToViewport();\r\n            } else {\r\n                // filtr.style.height = 0;\r\n                let mapWidth = glMap+270;\r\n                document.querySelector('.glampings-map__content').style.width = mapWidth+'px'; //elemWidth+'px';\r\n                map.container.getElement().style.width = mapWidth+'px';\r\n                map.container.fitToViewport();\r\n            }\r\n        });\r\n    });\r\n    isRun = true;\r\n}\r\n// filtrHidden();\r\n\r\nfunction mapPointTest(glAll) {\r\n    // console.dir(glAll);\r\n    let points = [];\r\n    glAll.forEach((item) => {\r\n        let itemUrl = item.url;\r\n        let media_urls = item.media_urls;\r\n        let media = '';\r\n        let mi = 0;\r\n        media_urls.forEach((media_url) => {\r\n            if (mi <= 2) {\r\n                media += `<img width=\"60\" height=\"60\" src=\"${media_url}\" class=\"attachment-map-image\" alt=\"\" decoding=\"async\">`;\r\n            }\r\n            mi++;\r\n        });\r\n\r\n        // let rating = reviews_stars_items_average( 2.9, 4 );\r\n        let rating = reviews_stars_items_average( item.average_rating, item.count_rating );\r\n\r\n        let thumb = `<img width=\"120\" height=\"120\" src=\"${media_urls[0]}\" class=\"attachment-map-image\" alt=\"\" decoding=\"async\">`;\r\n\r\n\r\n        let img = `<img width=\"60\" height=\"60\" src=\"${item.thumbnail_url}\" class=\"attachment-map-image\" alt=\"\" decoding=\"async\">`;\r\n\r\n        let mediaUrls = '';\r\n        if (media_urls.length) {\r\n            mediaUrls += `<div class=\"swiper balloonPan\">`;\r\n            mediaUrls += `<div class=\"swiper-wrapper\">`;\r\n            media_urls.forEach((media_url) => {\r\n                mediaUrls += `<div class=\"swiper-slide\">`;\r\n                mediaUrls += `<img width=\"80\" height=\"80\" src=\"${media_url}\" class=\"attachment-map-image\" alt=\"\" decoding=\"async\">`;\r\n                mediaUrls += `</div>`;\r\n            });\r\n            mediaUrls += `</div>`;\r\n            mediaUrls += `<div class=\"swiper-button-next\"></div>`;\r\n            mediaUrls += `<div class=\"swiper-button-prev\"></div>`;\r\n            mediaUrls += `</div>`;\r\n        }\r\n        let phoneGlamping = '';\r\n        // if (item.phone) {\r\n        //     phoneGlamping = `<a href=\"tel:${item.phone}\" class=\"glamp-phone\">\r\n        //         <svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n        //             <path d=\"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z\"/>\r\n        //         </svg>\r\n        //     </a>`;\r\n        // }\r\n        let whatsupGlamping = '';\r\n        // if (item.whatsup) {\r\n        //     whatsupGlamping = `<a href=\"https://wa.me/${item.whatsup}\" class=\"glamp-wa\">\r\n        //         <svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n        //             <path d=\"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z\" fill=\"#25d366\"></path>\r\n        //         </svg>\r\n        //     </a>`;\r\n        // }\r\n\r\n        let bcb = `<div class=\"balloon-content-body\">\r\n        <div class=\"balloon-content-body__img\">${thumb}</div>\r\n        <div class=\"balloon-content-body__content\">\r\n        <div class=\"balloon-content-body__content__title\">\r\n        <a href=\"${itemUrl}\">${item.title}</a>\r\n        </div>\r\n        <div class=\"balloon-content-body__content__rating\">${rating}</div>\r\n        <div class=\"balloon-content-body__content__price\">от ${item.price}р.</div>\r\n        <div class=\"balloon-content-body__content__address\">${item.adress}</div>\r\n        </div>\r\n        </div>`;\r\n\r\n        let bcbpDef = `<div class=\"balloon-content-body-pan\">\r\n        <div class=\"balloon-content-body-pan__title\"><a href=\"${itemUrl}\">${item.title}</a></div>\r\n        <div class=\"balloon-content-body-pan__img\">\r\n        <a href=\"${itemUrl}\" class=\"balloon-content-body-pan__img__link\"></a>\r\n        <div class=\"balloon-content-body-pan__img__count\">${media_urls.length} фото</div>\r\n        ${media}\r\n        </div>\r\n        <div class=\"balloon-content-body-pan__content\">\r\n        <div class=\"balloon-content-body-pan__content__price\">от ${item.price}р.</div>\r\n        <div class=\"balloon-content-body-pan__content__address\">${item.adress}</div>\r\n        <div class=\"balloon-content-body-pan__content__buttons\"></div>\r\n        </div>\r\n        </div>`;\r\n\r\n        let bcbp = `<div class=\"balloon-content-body-pan\">\r\n            <div class=\"balloon-content-body-pan__img\">\r\n                ${mediaUrls}\r\n            </div>\r\n            <div class=\"balloon-content-body-pan__content\">\r\n                <div class=\"balloon-content-body-pan__content__info\">\r\n                    <div class=\"balloon-content-body-pan__content__info__title\"><a href=\"${itemUrl}\">${item.title}</a></div>\r\n                    <div class=\"balloon-content-body-pan__content__info__rating\">${rating}</div>\r\n                    <div class=\"balloon-content-body-pan__content__info__price\">от ${item.price}р.</div>\r\n                    <div class=\"balloon-content-body-pan__content__info__address\">${item.adress}</div>\r\n                </div>\r\n                <div class=\"balloon-content-body-pan__content__buttons\">\r\n                    ${phoneGlamping}\r\n                    ${whatsupGlamping}\r\n                    <button id=\"add-favorites\" data-postid=\"${item.id}\" class=\"btn-add-fav\" type=\"button\" name=\"button\" title=\"Добавить в избранное\">\r\n                        <svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n                            <path d=\"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8l0-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5l0 3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1s0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5l0 3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2l0-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z\"/>\r\n                            <path class=\"full\" d=\"M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z\"></path>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>`;\r\n\r\n        let coord = [];\r\n        if (item.coordinates) {\r\n            points.push(\r\n                {\r\n                    id: item.id,\r\n                    type: \"Feature\",\r\n                    geometry: {\r\n                        type: \"Point\",\r\n                        coordinates: item.coordinates.split(', ')\r\n                    },\r\n                    properties: {\r\n                        id: item.id,\r\n        \t\t\t\tprice: item.price,\r\n        \t\t\t\t// balloonContentHeader: item.title,\r\n                        balloonContentBody: bcb, //`${img}<p class=\"ymaps-2-1-79-balloon-content__header\">от ${item.price}р.</p> Адрес: ${item.adress}`,\r\n                        balloonContentBodyPan: bcbp,\r\n        \t\t\t\t// balloonContentFooter: `<a href=\"${itemUrl}\">Подробнее</a>`,\r\n                        // balloonContentFooter: '<a href=\\\"'+itemUrl+'\\\">Подробнее</a>',\r\n        \t\t\t\tclusterCaption: item.title,\r\n        \t\t\t\tlink: item.url,\r\n                        hintContent: `<span>${item.title}</span>`,\r\n        \t\t\t\ticonContent: `<span id=\"${item.id}\" class=\"glc-icon-content\">${item.price}р</span>`,\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    });\r\n    let geoData = {\r\n        type: 'FeatureCollection',\r\n        metadata: {\r\n            name: 'Глэмпинги',\r\n\t\t\tcreator: 'creatsites.ru',\r\n\t\t\tdescription: 'Глэмпинги Creatsites.'\r\n        },\r\n        features: points\r\n    };\r\n    // console.dir(geoData);\r\n    return geoData;\r\n}\r\nmapPointTest(JSON.parse(glamping_club_ajax.glAll));\r\n\r\nfunction refreshObjects(elementId) {\r\n    objectManager.objects.each(object => {\r\n        const isActive = object.id === elementId;\r\n        objectManager.objects.setObjectOptions(object.id, {\r\n            preset: isActive ? 'islands#redStretchyIcon' : 'islands#darkGreenStretchyIcon'\r\n        })\r\n    });\r\n}\r\n\r\nfunction backObjects() {\r\n    objectManager.objects.each(object => {\r\n        objectManager.objects.setObjectOptions(object.id, {\r\n            preset: 'islands#darkGreenStretchyIcon'\r\n        })\r\n    });\r\n}\r\n\r\nfunction markersHover() {\r\n    const glPosts = document.querySelectorAll('.glamping-item');\r\n\tglPosts.forEach((post) => {\r\n\t\tlet postId = post.id.split('-')[1];\r\n\t\tpost.addEventListener('mouseenter', function() {\r\n            const markers = document.querySelectorAll('.ymaps-2-1-79-map .glc-icon-content');\r\n            markers.forEach((item) => {\r\n                if (item.id == postId) {\r\n                    item.classList.add('active');\r\n                    item.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.style.zIndex = '999';\r\n                }\r\n            });\r\n\t\t});\r\n\t\tpost.addEventListener('mouseleave', function() {\r\n            const markers = document.querySelectorAll('.ymaps-2-1-79-map .glc-icon-content');\r\n            markers.forEach((item) => {\r\n                item.classList.remove('active');\r\n                item.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.style.zIndex = '';\r\n            });\r\n\t\t});\r\n\t});\r\n}\r\n\r\nfunction reviews_stars_items_average( average_rating, count_otziv ) {\r\n\tlet rating = +average_rating;\r\n\tlet star_full = `<svg class=\"star-full\" width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\">\r\n\t<path class=\"fa-secondary\" fill=\"var(--reviews-color)\" d=\"M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z\"/>\r\n\t</svg>`;\r\n\tlet star_aver = `<svg width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\">\r\n\t<path class=\"fa-primary\" fill=\"var(--reviews-color)\" d=\"M288 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.995 275.8 .0131 287.1-.0391L288 439.8zM433.2 512C432.1 512.1 431 512.1 429.9 512H433.2z\"/>\r\n\t<path class=\"fa-secondary\" fill=\"#d7dbe3\" d=\"M146.3 512C145.3 512.1 144.2 512.1 143.1 512H146.3zM288 439.8V-.0387L288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.1 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L288 439.8z\"/>\r\n\t</svg>`;\r\n\tlet star_half = `<svg class=\"star-full\" width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\">\r\n\t<path class=\"fa-secondary\" fill=\"#d7dbe3\" d=\"M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z\"/>\r\n\t</svg>`;\r\n\r\n\tlet content = `<div class=\"rating-stars\">`;\r\n\r\n\t//$full_stars = $doc_meta->rating/$doc_meta->raitcol;\r\n\tlet empty_stars = Math.floor( 5 - average_rating );\r\n\twhile ( average_rating > 0 ) {\r\n\t\tif ( average_rating > 0 && average_rating - 1 >= 0 ) {\r\n\t\t\tcontent += star_full;\r\n\t\t}\r\n\t\tif ( average_rating > 0 && average_rating - 1 < 0 ) {\r\n\t\t\tcontent += star_aver;\r\n\t\t}\r\n\t\taverage_rating--;\r\n\t}\r\n\twhile ( empty_stars > 0 ) {\r\n\t\tcontent += star_half;\r\n\r\n\t\tempty_stars--;\r\n\t}\r\n\tcontent += `</div>`;\r\n\tcontent += `<div class=\"rating-count\">\r\n\t\t<div class=\"rating-count__rating\">`;\r\n\tcontent += rating; //.toFixed(1);\r\n\tcontent += `</div>\r\n        <div class=\"rating-count__otziv\">`;\r\n\r\n\tcontent += `<span> / `;\r\n    content += count_otziv+' '+num_word(+count_otziv, ['отзыв', 'отзыва', 'отзывов']);\r\n    content += `</span>`;\r\n\tcontent += `</div>\r\n\t    </div>`;\r\n    return content;\r\n}\r\n\r\nfunction num_word(value, words){\r\n\tvalue = Math.abs(value) % 100;\r\n\tvar num = value % 10;\r\n\tif(value > 10 && value < 20) return words[2];\r\n\tif(num > 1 && num < 5) return words[1];\r\n\tif(num == 1) return words[0];\r\n\treturn words[2];\r\n    // num_word(value, ['товар', 'товара', 'товаров']);\r\n}\r\n\r\nconst listCardMap = () => {\r\n    const btnMap = document.querySelectorAll('.js-btn-map button');\r\n    if (!btnMap.length) return;\r\n    const archiveGlampings = document.querySelector('#archive-glampings');\r\n    const glWrap = document.querySelector('.glampings-wrap');\r\n    const glampingsItems = document.querySelector('#archive-glampings .glampings-items');\r\n    const glampingsMap = document.querySelector('.glampings-map');\r\n    const archGlampingsLeft = document.querySelector('.archive-glampings__left');\r\n    const archGlampingsLeftGlamp = document.querySelector('.archive-glampings__left__glampings');\r\n    const glcfScroll = document.querySelector('.glcf-scroll');\r\n\r\n    btnMap.forEach((btn) => {\r\n        btn.addEventListener('click', (e) => {\r\n            btnMapChange(btnMap);\r\n            btn.classList.add('active');\r\n            if (btn.id == 'mapVision') {\r\n                archiveGlampings.classList.remove('no-map');\r\n                archGlampingsLeft.classList.remove('no-map');\r\n                glampingsItems.classList.remove('no-map');\r\n                archGlampingsLeftGlamp.classList.remove('no-map');\r\n                glWrap.classList.add('my-scrollbar-gc');\r\n                glWrap.classList.remove('no-map');\r\n                glampingsMap.classList.add('active');\r\n                glampingsMap.children[0].innerHTML = '';\r\n                let newgGlempAll =  glempsAll.filter(filtrOptionsChange);\r\n                let priceObj = [];\r\n                priceObj = sliderUpdatePrice(newgGlempAll);\r\n                newgGlempAll =  glempsAll.filter(filtrOptionsChange).filter(priceRange, priceObj);\r\n                mapRender(mapPointTest(newgGlempAll));\r\n                newScrollbarGlCard();\r\n            } else if (btn.id == 'mapClose') {\r\n                newScrollbarGlCard().destroy();\r\n                archiveGlampings.classList.add('no-map');\r\n                archGlampingsLeft.classList.add('no-map');\r\n                glampingsItems.classList.add('no-map');\r\n                archGlampingsLeftGlamp.classList.add('no-map');\r\n                glWrap.classList.add('no-map');\r\n                glWrap.classList.remove('my-scrollbar-gc');\r\n                glampingsMap.classList.remove('active');\r\n            }\r\n            Cookies.set('glcTemp', btn.id);\r\n        });\r\n    });\r\n}\r\nlistCardMap();\r\n\r\nfunction newScrollbarGlCard() {\r\n    const Scrollbar = window.Scrollbar;\r\n    const elem = document.querySelector('.my-scrollbar-gc');\r\n    if (!elem) return;\r\n    const sgc = Scrollbar.init(elem, {\r\n        alwaysShowTracks: true\r\n    });\r\n    return sgc;\r\n}\r\nnewScrollbarGlCard();\r\n\r\nconst listCardMapMobile = () => {\r\n    const btnMap = document.querySelector('.js-btn-map-mobile');\r\n    if (!btnMap) return;\r\n    const glampingsItems = document.querySelector('#archive-glampings .glampings-items');\r\n    const glampingsMap = document.querySelector('.glampings-map');\r\n    const archGlampingsLeft = document.querySelector('.archive-glampings__left');\r\n    const btns = btnMap.querySelectorAll('button');\r\n    // btns.forEach((btn) => {\r\n        btnMap.addEventListener('click', (e) => {\r\n            btnMapChange(btns);\r\n            if (btnMap.id == 'mapClose') {\r\n                archGlampingsLeft.classList.remove('no-map');\r\n                glampingsItems.classList.remove('card');\r\n                glampingsItems.classList.add('list');\r\n                glampingsMap.classList.add('active');\r\n                glampingsMap.children[0].innerHTML = '';\r\n                // let glempAll = JSON.parse(glamping_club_ajax.glAll);\r\n                let newgGlempAll =  glempsAll.filter(filtrOptionsChange);\r\n                let priceObj = [];\r\n                priceObj = sliderUpdatePrice(newgGlempAll);\r\n                newgGlempAll =  glempsAll.filter(filtrOptionsChange).filter(priceRange, priceObj);\r\n                mapRender(mapPointTest(newgGlempAll));\r\n                btnMap.id = 'mapVision'\r\n                btnMap.innerText = 'Список'\r\n                Cookies.set('glcTemp', btnMap.id);\r\n            } else if (btnMap.id == 'mapVision') {\r\n                glampingsItems.classList.remove('list');\r\n                glampingsItems.classList.add('card');\r\n                glampingsMap.classList.remove('active');\r\n                archGlampingsLeft.classList.add('no-map');\r\n                btnMap.id = 'mapClose'\r\n                btnMap.innerText = 'Карта'\r\n                Cookies.set('glcTemp', btnMap.id);\r\n            }\r\n            // Cookies.set('glcTemp', btnMap.id);\r\n            document.querySelector('#page').scrollIntoView({ behavior: 'smooth' });\r\n        });\r\n        // console.dir(btn);\r\n    // });\r\n}\r\nlistCardMapMobile();\r\n\r\nfunction btnMapChange(btns) {\r\n    btns.forEach((btn) => {\r\n        btn.classList.remove('active');\r\n    });\r\n}\r\n\r\nfunction sortGlemp() {\r\n    let sortGlemp = document.querySelector('.filtr-item__options.sort-glemp');\r\n    if (!sortGlemp) return;\r\n    let filtrOptions = sortGlemp.querySelectorAll('.filtr-option');\r\n    filtrOptions.forEach((elem) => {\r\n        elem.addEventListener('click', (e) => {\r\n            if (elem.classList.contains('sort-option')) {\r\n                elem.parentElement.previousElementSibling.innerText = e.target.innerText;\r\n            } else {\r\n                elem.parentElement.previousElementSibling.children[0].innerText = e.target.innerText;\r\n            }\r\n\r\n            optionsChecked(filtrOptions);\r\n            elem.children[1].classList.add('active');\r\n            let sortGl = elem.dataset.value;\r\n            Cookies.set('glcSort', sortGl);\r\n            sortGlempRender(sortGl);\r\n            sortGlemp.classList.remove('active');\r\n            sortGlemp.previousElementSibling.previousElementSibling.children[1].classList.remove('active');\r\n        });\r\n    });\r\n}\r\nsortGlemp();\r\n\r\nfunction sortGlempRender(sortGl) {\r\n    let priceObj = [];\r\n    let glcPrice = localStorage.getItem('glcPrice');\r\n    if (glcPrice) {\r\n        priceObj = glcPrice.split(',');\r\n    }\r\n    // let glempAll = JSON.parse(glamping_club_ajax.glAll);\r\n    let newgGlempAll =  glempsAll.filter(filtrOptionsChange).filter(priceRange, priceObj.map(Number));\r\n    // let sortGl = Cookies.get('glcSort');\r\n    if (sortGl) {\r\n        if (sortGl == 'new_items') {\r\n            newgGlempAll.sort((x, y) => y.post_date - x.post_date);\r\n        } else if (sortGl == 'recommended') {\r\n            newgGlempAll.sort((x, y) => y.recommended - x.recommended);\r\n        } else if (sortGl == 'max_price') {\r\n            newgGlempAll.sort((x, y) => y.price - x.price);\r\n        } else if (sortGl == 'min_price') {\r\n            newgGlempAll.sort((x, y) => x.price - y.price);\r\n        }\r\n        // else if (sortGl == 'popular') {\r\n        //     newgGlempAll.sort((x, y) => y.views - x.views);\r\n        // } else if (sortGl == 'rating') {\r\n        //     newgGlempAll.sort((x, y) => y.review_rating - x.review_rating || y.review_count - x.review_count);\r\n        // }\r\n    }\r\n    glempRender(newgGlempAll);\r\n}\r\n\r\nfunction optionsChecked(options) {\r\n    options.forEach((elem) => {\r\n        elem.children[1].classList.remove('active');\r\n    });\r\n}\r\n\r\nconst addFavCom = () => {\r\n    const favoritesBtns = document.querySelectorAll('#add-favorites');\r\n    const comparisonBtns = document.querySelectorAll('#add-comparison');\r\n    const singleGlampings = document.querySelector('.single-glampings');\r\n    const comparesMain = document.querySelector('.compares-main');\r\n    if (!comparesMain) return;\r\n    if (favoritesBtns.length) {\r\n        const supFavorites = document.querySelectorAll('#sup-favorites');\r\n        favoritesBtns.forEach((btn) => {\r\n            btn.addEventListener('click', (e) => {\r\n                let glcFavCount = localCheng('glcFav', btn.dataset.postid);\r\n                supFavorites.forEach((item) => {\r\n                    item.innerHTML = glcFavCount;\r\n                });\r\n                btn.classList.toggle('active');\r\n                if (btn.classList.contains('active')) {\r\n                    btn.attributes.title.value = 'Удалить из избранного';\r\n                } else {\r\n                    btn.attributes.title.value = 'Добавить в избранное';\r\n                }\r\n            });\r\n        });\r\n    }\r\n    if (comparisonBtns.length) {\r\n        const supComparison = document.querySelectorAll('#sup-comparison');\r\n        comparisonBtns.forEach((btn) => {\r\n            btn.addEventListener('click', (e) => {\r\n                let glcComparCount = localCheng('glcCompar', btn.dataset.postid);\r\n                supComparison.forEach((item) => {\r\n                    item.innerHTML = glcComparCount;\r\n                });\r\n                btn.classList.toggle('active');\r\n                if (btn.classList.contains('active')) {\r\n                    btn.attributes.title.value = 'Удалить из сравнения';\r\n                } else {\r\n                    btn.attributes.title.value = 'Добавить к сравнению';\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\naddFavCom();\r\n\r\n// const deleteFavCom = () => {\r\n//     const favoritesBtns = document.querySelectorAll('#delete-favorites');\r\n//     const comparisonBtns = document.querySelectorAll('#delete-comparison');\r\n//     if (favoritesBtns.length) {\r\n//         const supFavorites = document.querySelectorAll('#sup-favorites');\r\n//         favoritesBtns.forEach((btn) => {\r\n//             btn.addEventListener('click', (e) => {\r\n//                 let glcFavCount = localCheng('glcFav', btn.dataset.postid);\r\n//                 btn.parentElement.parentElement.parentElement.parentElement.remove();\r\n//                 supFavorites.forEach((item) => {\r\n//                     item.innerHTML = glcFavCount;\r\n//                 });\r\n//             });\r\n//         });\r\n//     }\r\n//     if (comparisonBtns.length) {\r\n//         const supComparison = document.querySelectorAll('#sup-comparison');\r\n//         comparisonBtns.forEach((btn) => {\r\n//             btn.addEventListener('click', (e) => {\r\n//                 let glcComparCount = localCheng('glcCompar', btn.dataset.postid);\r\n//                 btn.parentElement.parentElement.parentElement.parentElement.remove();\r\n//                 document.querySelector('#post-info-'+btn.parentElement.parentElement.parentElement.parentElement.dataset.info).remove();\r\n//                 // jQuery(document).ready( function($){\r\n//                 //     $('.mySlick1').slick('slickRemove', 6);\r\n//                 //     $('.mySlick2').slick('slickRemove', 6);\r\n//                 // });\r\n//                 supComparison.forEach((item) => {\r\n//                     item.innerHTML = glcComparCount;\r\n//                 });\r\n//                 location.reload();\r\n//             });\r\n//         });\r\n//     }\r\n// }\r\n// deleteFavCom();\r\n\r\nfunction buttonsFavChange() {\r\n    const glampingsItems = document.querySelector('.glampings-items');\r\n    const singleGlampings = document.querySelector('.single-glampings');\r\n    if (!glampingsItems) return;\r\n    const supFavorites = document.querySelectorAll('#sup-favorites');\r\n    const supСomparison = document.querySelectorAll('#sup-comparison');\r\n    glampingsItems.addEventListener('click', function(event) {\r\n        let btns = glampingsItems.querySelectorAll('button');\r\n        let btn = event.target.closest('button');\r\n        if (btn) {\r\n            if (btn.id == 'add-favorites') {\r\n                let glcFavCount = localCheng('glcFav', btn.dataset.postid);\r\n                supFavorites.forEach((item) => {\r\n                    item.innerHTML = glcFavCount;\r\n                });\r\n                btn.classList.toggle('active');\r\n                if (btn.classList.contains('active')) {\r\n                    btn.attributes.title.value = 'Удалить из избранного';\r\n                } else {\r\n                    btn.attributes.title.value = 'Добавить в избранное';\r\n                }\r\n            }\r\n\r\n            if (btn.id == 'add-comparison') {\r\n                let glcComparCount = localCheng('glcCompar', btn.dataset.postid);\r\n                supСomparison.forEach((item) => {\r\n                    item.innerHTML = glcComparCount;\r\n                });\r\n                btn.classList.toggle('active');\r\n                if (btn.classList.contains('active')) {\r\n                    btn.attributes.title.value = 'Удалить из сравнения';\r\n                } else {\r\n                    btn.attributes.title.value = 'Добавить к сравнению';\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\nbuttonsFavChange();\r\n\r\nfunction localCheng(name, value) {\r\n    let ls_obj = [];\r\n    if ( Cookies.get(name) ) { // localStorage.getItem(name)\r\n        let ls = Cookies.get(name); // localStorage.getItem(name)\r\n        ls_obj = ls.split(',');\r\n        if (ls_obj.includes(value)) {\r\n            ls_obj = ls_obj.filter((i) => i !== value);\r\n        } else {\r\n            ls_obj.push(value);\r\n        }\r\n    } else {\r\n        ls_obj = [];\r\n        ls_obj.push(value);\r\n    }\r\n    // localStorage.setItem(name, ls_obj);\r\n    // Cookies.remove('name')\r\n    Cookies.set(name, ls_obj);\r\n    return ls_obj.length;\r\n}\r\n\r\nfunction favoritesRender() {\r\n    const supFavorites = document.querySelectorAll('#sup-favorites');\r\n    const supComparison = document.querySelectorAll('#sup-comparison');\r\n    const addFavorites = document.querySelectorAll('#add-favorites');\r\n    const addComparison = document.querySelectorAll('#add-comparison');\r\n    let glcFav = favoritesRenderNologin('glcFav');\r\n    let glcCompar = favoritesRenderNologin('glcCompar');\r\n    if (supFavorites.length) {\r\n        supFavorites.forEach((item) => {\r\n            item.innerHTML = glcFav.length;\r\n        });\r\n        if (addFavorites.length) {\r\n            addFavorites.forEach((item) => {\r\n                if (glcFav.includes(item.dataset.postid)) {\r\n                    item.classList.add('active');\r\n                    item.attributes.title.value = 'Удалить из избранного';\r\n                }\r\n            });\r\n        }\r\n    }\r\n    if (supComparison.length) {\r\n        supComparison.forEach((item) => {\r\n            item.innerHTML = glcCompar.length;\r\n        });\r\n        if (addComparison.length) {\r\n            addComparison.forEach((item) => {\r\n                if (glcCompar.includes(item.dataset.postid)) {\r\n                    item.classList.add('active');\r\n                    item.attributes.title.value = 'Удалить из сравнения';\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nfavoritesRender();\r\n\r\nfunction favoritesRenderNologin(name) {\r\n    const glcFav = Cookies.get(name);\r\n    let glcFav_obj = [];\r\n    if (glcFav) {\r\n        glcFav_obj = glcFav.split(',');\r\n    }\r\n    return glcFav_obj;\r\n}\r\n\r\nfunction mapFavComAction(addFavorites, addFavoritesBtnSingle, supFavorites, btnType) {\r\n    addFavorites.classList.toggle('active');\r\n    addFavoritesBtnSingle.classList.toggle('active');\r\n\r\n    let glcFavCount = localCheng(btnType, addFavorites.dataset.postid);\r\n    supFavorites.forEach((item) => {\r\n        item.innerHTML = glcFavCount;\r\n    });\r\n    if (addFavorites.classList.contains('active')) {\r\n        addFavorites.attributes.title.value = 'Удалить из избранного';\r\n    } else {\r\n        addFavorites.attributes.title.value = 'Добавить в избранное';\r\n    }\r\n    if (addFavoritesBtnSingle.classList.contains('active')) {\r\n        addFavoritesBtnSingle.attributes.title.value = 'Удалить из избранного';\r\n    } else {\r\n        addFavoritesBtnSingle.attributes.title.value = 'Добавить в избранное';\r\n    }\r\n}\r\n\r\nfunction paginateGlemp(glempAll) {\r\n    const navLinks = document.querySelector('.pagination.filtr-pagination .nav-links');\r\n    const perPage = glamping_club_ajax.glc_per_page.split('/').map(Number);\r\n    // let pages = glempAll.length/perPage[0];\r\n    let pages = glempAll.length/1;\r\n    let pagesCount = Math.ceil(pages);\r\n    console.dir(perPage);\r\n    console.dir(pages);\r\n    console.dir(pagesCount);\r\n\r\n    navLinks.innerHTML = '';\r\n\r\n    let pagContent = ``;\r\n\r\n    for (var i = 0; i < pagesCount; i++) {\r\n        if (i == 0) {\r\n            pagContent += `<span aria-current=\"page\" class=\"page-numbers current\">1</span>`;\r\n        } else {\r\n            if (pagesCount > 6 && i == 3) {\r\n                pagContent += `<span class=\"page-numbers dots\">…</span>`;\r\n            }\r\n            pagContent += `<a class=\"page-numbers\" href=\"http://glamping${window.location.pathname}page/${i+1}/\" datapage=\"${i+1}\">${i+1}</a>`;\r\n        }\r\n    }\r\n    pagContent += `<a class=\"next page-numbers\" href=\"http://glamping${window.location.pathname}page/2/\" datapage=\"2\">\r\n        <svg width=\"10\" height=\"14\" viewBox=\"0 0 10 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M1 13L8 7L1 1\" stroke=\"#5E6D77\" stroke-width=\"1.5\"></path>\r\n        </svg>\r\n    </a>`;\r\n\r\n    navLinks.innerHTML = pagContent;\r\n}\r\n// paginateGlemp(glempsAll);\r\n\r\nfunction createPagination(pages, page) {\r\n    const nav = document.querySelector('.pagination.filtr-pagination .nav-links');\r\n    console.dir(pages);\r\n    let str = '';\r\n    let active;\r\n    let pageCutLow = page - 1;\r\n    let pageCutHigh = page + 1;\r\n    let icon_prev = `<svg width=\"10\" height=\"14\" viewBox=\"0 0 10 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 1L2 7L9 13\" stroke=\"#5E6D77\" stroke-width=\"1.5\"/>\r\n    </svg>`;\r\n    let icon_next = `<svg width=\"10\" height=\"14\" viewBox=\"0 0 10 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M1 13L8 7L1 1\" stroke=\"#5E6D77\" stroke-width=\"1.5\"/>\r\n    </svg>`;\r\n    if (page > 1) {\r\n        str += '<a onclick=\"createPagination('+pages+', '+(page-1)+')\">'+icon_prev+'</a>';\r\n    }\r\n    if (pages < 6) {\r\n        for (let p = 1; p <= pages; p++) {\r\n            active = page == p ? \"current\" : \"no\";\r\n            str += '<a class=\"page-numbers '+active+'\" onclick=\"createPagination('+pages+', '+p+')\">'+ p +'</a>';\r\n        }\r\n    }\r\n    else {\r\n        if (page > 2) {\r\n            str += '<a class=\"page-numbers\" onclick=\"createPagination('+pages+', 1)\">1</a>';\r\n            if (page > 3) {\r\n                str += '<a class=\"page-numbers\" onclick=\"createPagination('+pages+','+(page-2)+')\">...</a>';\r\n            }\r\n        }\r\n        if (page === 1) {\r\n            pageCutHigh += 2;\r\n        } else if (page === 2) {\r\n            pageCutHigh += 1;\r\n        }\r\n        if (page === pages) {\r\n            pageCutLow -= 2;\r\n        } else if (page === pages-1) {\r\n            pageCutLow -= 1;\r\n        }\r\n        for (let p = pageCutLow; p <= pageCutHigh; p++) {\r\n            if (p === 0) {\r\n                p += 1;\r\n            }\r\n            if (p > pages) {\r\n                continue\r\n            }\r\n            active = page == p ? \"current\" : \"no\";\r\n            str += '<a class=\"page-numbers '+active+'\" onclick=\"createPagination('+pages+', '+p+')\">'+ p +'</a>';\r\n        }\r\n        if (page < pages-1) {\r\n            if (page < pages-2) {\r\n                str += '<a class=\"page-numbers\" onclick=\"createPagination('+pages+','+(page+2)+')\">...</a>';\r\n            }\r\n            str += '<a class=\"page-numbers\" onclick=\"createPagination('+pages+', '+pages+')\">'+pages+'</a>';\r\n        }\r\n    }\r\n    if (page < pages) {\r\n        str += '<a class=\"page-numbers\" onclick=\"createPagination('+pages+', '+(page+1)+')\">'+icon_next+'</a>';\r\n    }\r\n    str += '';\r\n    nav.innerHTML = str;\r\n    return str;\r\n}\r\n","function navScroll(elementId) {\r\n    const masthead = document.getElementById(elementId);\r\n    const asideContent = document.getElementById('aside-content');\r\n    const btnFiltrVisionMobile = document.getElementById('btn-filtr-vision-mobile');\r\n    var prevScrollpos = window.pageYOffset;\r\n    window.onscroll = function() {\r\n        let headHeight = '';\r\n        var currentScrollPos = window.pageYOffset;\r\n        if (prevScrollpos > currentScrollPos) {\r\n            if (masthead) {\r\n                headHeight = masthead.offsetHeight+20;\r\n                masthead.style.top = \"0\";\r\n                if (currentScrollPos == 0) {\r\n                    masthead.style.top = \"\";\r\n                }\r\n            } else {\r\n                headHeight = 20;\r\n            }\r\n            if (asideContent) {\r\n                asideContent.style.top = headHeight+\"px\";\r\n            }\r\n            if (btnFiltrVisionMobile) {\r\n                btnFiltrVisionMobile.style.top = '';\r\n            }\r\n        } else {\r\n            if (masthead) {\r\n                if (prevScrollpos > masthead.offsetHeight) { //clientHeight\r\n                    masthead.style.top = '-'+masthead.offsetHeight+'px';\r\n                }\r\n            }\r\n            if (asideContent) {\r\n                asideContent.style.top = '24px';\r\n            }\r\n            if (btnFiltrVisionMobile) {\r\n                btnFiltrVisionMobile.style.top = '0';\r\n            }\r\n        }\r\n        prevScrollpos = currentScrollPos;\r\n    }\r\n}\r\nnavScroll('masthead');\r\n\r\nfunction asideScroll(elementId, header) {\r\n    const asideContent = document.getElementById(elementId);\r\n    const headerDiv = document.getElementById(header);\r\n    var prevScroll = window.pageYOffset;\r\n    window.onscroll = function() {\r\n        var currentScroll = window.pageYOffset;\r\n        if (prevScroll > currentScroll) {\r\n            asideContent.style.top = headerDiv.offsetHeight+\"px\";\r\n        } else {\r\n            asideContent.style.top = '24px';\r\n        }\r\n        prevScroll = currentScroll;\r\n    }\r\n}\r\n// asideScroll('aside-content', 'masthead');\r\n\r\nfunction dashboardHeight(headerId, tabsTd) {\r\n    const dashboardHead = document.getElementById(headerId);\r\n    const tabs = document.getElementById(tabsTd);\r\n    if (dashboardHead && tabs) {\r\n        const logo = document.getElementById('dashboard-logo');\r\n        const sidebarContent = document.getElementById('dashboard-sidebar-content');\r\n        let ha = dashboardHead.offsetHeight;\r\n        let h = `calc(100vh - ${ha}px)`;\r\n        tabs.style.height = h;\r\n        sidebarContent.style.height = h;\r\n        logo.style.height = `${ha}px`;\r\n\r\n        window.addEventListener('resize', () => {\r\n            ha = dashboardHead.offsetHeight;\r\n            h = `calc(100vh - ${ha}px)`;\r\n            tabs.style.height = h;\r\n            sidebarContent.style.height = h;\r\n            logo.style.height = `${ha}px`;\r\n        });\r\n    }\r\n}\r\ndashboardHeight('dashboard-header', 'dashboard-tabs');\r\n\r\nfunction dashboardHeightPlus(headerId, footerId, tabsTd) {\r\n    const dashboardHead = document.getElementById(headerId);\r\n    const dashboardFooter = document.getElementById(footerId);\r\n    const tabs = document.getElementById(tabsTd);\r\n    if (dashboardHead && dashboardFooter && tabs) {\r\n        let ha = dashboardHead.offsetHeight+dashboardFooter.offsetHeight;\r\n        let h = `calc(100vh - ${ha}px)`;\r\n        tabs.style.height = h;\r\n\r\n        window.addEventListener('resize', () => {\r\n            h = `calc(100vh - ${ha}px)`;\r\n            tabs.style.height = h;\r\n        });\r\n    }\r\n}\r\n// dashboardHeightPlus('masthead', 'dashboard-colophon', 'dashboard-tabs');\r\n\r\nconst sidebarNavVision = () => {\r\n    btnSidebarNav = document.querySelector('#js-sidebar-nav')\r\n    if ( btnSidebarNav ) {\r\n        sidebarNav = document.querySelector('.sidebar-nav')\r\n        overlay = document.querySelector('.js-overlay-modal')\r\n        close = document.querySelector('#js-close')\r\n        body = document.querySelector('body')\r\n        btnSidebarNav.addEventListener('click', (e) => {\r\n            overlay.classList.toggle('active');\r\n            sidebarNav.classList.toggle('active');\r\n            body.classList.toggle('js-overlay');\r\n        });\r\n        overlay.addEventListener('click', function() {\r\n            sidebarNav.classList.remove('active');\r\n            this.classList.remove('active');\r\n            body.classList.remove('js-overlay');\r\n        });\r\n        document.body.addEventListener('keyup', function (e) {\r\n            var key = e.keyCode;\r\n            if (key == 27) {\r\n                sidebarNav.classList.remove('active');\r\n                overlay.classList.remove('active');\r\n                body.classList.remove('js-overlay');\r\n            };\r\n        }, false);\r\n        close.addEventListener('click', function() {\r\n            sidebarNav.classList.remove('active');\r\n            overlay.classList.remove('active');\r\n            body.classList.remove('js-overlay');\r\n        });\r\n    }\r\n}\r\nsidebarNavVision();\r\n\r\nconst sidebarDashboardVision = () => {\r\n    btnSidebarNav = document.querySelector('#js-sidebar-nav-dashboard')\r\n    if ( btnSidebarNav ) {\r\n        sidebarNav = document.querySelector('#dashboard-sidebar')\r\n        overlay = document.querySelector('.js-overlay-modal')\r\n        close = document.querySelector('#js-dashboard-close')\r\n        body = document.querySelector('body')\r\n        btnSidebarNav.addEventListener('click', (e) => {\r\n            overlay.classList.toggle('active');\r\n            sidebarNav.classList.toggle('active');\r\n            body.classList.toggle('js-overlay');\r\n        });\r\n        overlay.addEventListener('click', function() {\r\n            sidebarNav.classList.remove('active');\r\n            this.classList.remove('active');\r\n            body.classList.remove('js-overlay');\r\n        });\r\n        document.body.addEventListener('keyup', function (e) {\r\n            var key = e.keyCode;\r\n            if (key == 27) {\r\n                sidebarNav.classList.remove('active');\r\n                overlay.classList.remove('active');\r\n                body.classList.remove('js-overlay');\r\n            };\r\n        }, false);\r\n        close.addEventListener('click', function() {\r\n            sidebarNav.classList.remove('active');\r\n            overlay.classList.remove('active');\r\n            body.classList.remove('js-overlay');\r\n        });\r\n    }\r\n}\r\nsidebarDashboardVision();\r\n\r\nconst filtrVision = () => {\r\n    btnfiltrVision = document.querySelector('#js-filtr-vision')\r\n    if ( btnfiltrVision ) {\r\n        filtr = document.querySelector('.filtr-items')\r\n        close = document.querySelector('#js-filtr-close')\r\n        body = document.querySelector('body')\r\n        btnfiltrVision.addEventListener('click', (e) => {\r\n            filtr.classList.toggle('active');\r\n            body.classList.toggle('js-overlay');\r\n        });\r\n        document.body.addEventListener('keyup', function (e) {\r\n            var key = e.keyCode;\r\n            if (key == 27) {\r\n                filtr.classList.remove('active');\r\n                body.classList.remove('js-overlay');\r\n            };\r\n        }, false);\r\n        close.addEventListener('click', function() {\r\n            filtr.classList.remove('active');\r\n            body.classList.remove('js-overlay');\r\n        });\r\n    }\r\n}\r\n// filtrVision();\r\n\r\nconst searchVision = () => {\r\n    btnsearchVision = document.querySelector('#js-search-vision')\r\n    if ( btnsearchVision ) {\r\n        search = document.querySelector('.header-generale__form')\r\n        btnsearchVision.addEventListener('click', (e) => {\r\n            search.classList.toggle('active');\r\n            btnsearchVision.classList.toggle('active');\r\n        });\r\n        document.body.addEventListener('keyup', function (e) {\r\n            var key = e.keyCode;\r\n            if (key == 27) {\r\n                search.classList.remove('active');\r\n                btnsearchVision.classList.remove('active');\r\n            };\r\n        }, false);\r\n    }\r\n}\r\nsearchVision();\r\n\r\n// jQuery\r\njQuery(document).ready( function($){\r\n\r\n    function scrollToTop(pxShow, scrollSpeed){\r\n        // pxShow - height on which the button will show\r\n    \t// scrollSpeed - how slow / fast you want the button to scroll to top.\r\n        $(window).scroll(function(){\r\n    \t if($(window).scrollTop() >= pxShow){\r\n    \t\t$(\".btn-to-top\").addClass('visible');\r\n            $(\".request-call\").addClass('btn-top-vision');\r\n    \t } else {\r\n    \t\t$(\".btn-to-top\").removeClass('visible');\r\n            $(\".request-call\").removeClass('btn-top-vision');\r\n    \t }\r\n    \t});\r\n        $('a.scroll-to-top').on('click', function(){\r\n            $('html, body').animate({scrollTop:0}, scrollSpeed);\r\n            return false;\r\n        });\r\n    }\r\n    scrollToTop(400, 400);\r\n\r\n    function scrollAnimate(){\r\n        $(document).on('click', 'a.animate-scroll[href^=\"#\"]', function (event) {\r\n            event.preventDefault();\r\n            //var indent = $($.attr(this, 'href')).attr('data-top');\r\n            var indent = $(this).attr('data-top');\r\n            if (indent) {\r\n                indent_top = indent;\r\n            } else {\r\n                indent_top = 0;\r\n            }\r\n            if ($($.attr(this, 'href')).length > 0) {\r\n                $('html, body').animate({\r\n                    scrollTop: $($.attr(this, 'href')).offset().top - indent_top\r\n                }, 500);\r\n            }\r\n        });\r\n    }\r\n    scrollAnimate();\r\n\r\n    // // magnificPopup\r\n    // function mfpInit( index ) {\r\n    //     $('.gallery-'+index).magnificPopup({\r\n    //         type: 'image',\r\n    //         delegate: '.mfp',\r\n    //         tClose: 'Закрыть (Esc)',\r\n    //         tLoading: 'Загрузка...',\r\n    //         gallery:{\r\n    //             enabled: true,\r\n    //             tPrev: 'Назад',\r\n    //             tNext: 'Вперед',\r\n    //             tCounter: '%curr% из %total%'\r\n    //         },\r\n    //         image: {\r\n    //             tError: '<a href=\"%url%\">Изображение</a> не удалось загрузить.'\r\n    //         },\r\n    //         ajax: {\r\n    //             tError: '<a href=\"%url%\">Запрос</a> не выполнен.'\r\n    //         }\r\n    //     });\r\n    // }\r\n    // mfpInit('1');\r\n    // mfpInit('2');\r\n    // mfpInit('3');\r\n    // mfpInit('4');\r\n    // mfpInit('5');\r\n    // mfpInit('6');\r\n    // mfpInit('7');\r\n    // mfpInit('8');\r\n    // mfpInit('9');\r\n    // mfpInit('10');\r\n    // mfpInit('11');\r\n    // mfpInit('12');\r\n    // mfpInit('13');\r\n    // mfpInit('14');\r\n    // mfpInit('15');\r\n    // mfpInit('16');\r\n    // mfpInit('17');\r\n    // mfpInit('18');\r\n    // mfpInit('19');\r\n    // mfpInit('20');\r\n    // mfpInit('all');\r\n    //\r\n    // $('.popup-youtube, .popup-vimeo, .popup-gmaps').magnificPopup({\r\n\t// \tdisableOn: 700,\r\n\t// \ttype: 'iframe',\r\n\t// \tmainClass: 'mfp-fade',\r\n    //     tClose: 'Закрыть (Esc)',\r\n\t// \tremovalDelay: 160,\r\n\t// \tpreloader: false,\r\n    //     fixedContentPos: true,\r\n    //     fixedBgPos: true,\r\n    //     overflowY: 'hidden',\r\n    //     // callbacks: {\r\n    //     //     open: function() {\r\n    //     //\r\n    //     //     },\r\n    //     //     close: function() {\r\n    //     //\r\n    //     //     }\r\n    //     // }\r\n\t// });\r\n    //\r\n    // $('.image-popup-fit-width').magnificPopup({\r\n\t// \ttype: 'image',\r\n\t// \tcloseOnContentClick: true,\r\n\t// \timage: {\r\n\t// \t\tverticalFit: false\r\n\t// \t}\r\n\t// });\r\n    //\r\n    // $('.image-popup-vertical-fit').magnificPopup({\r\n\t// \ttype: 'image',\r\n\t// \tcloseOnContentClick: true,\r\n\t// \tmainClass: 'mfp-img-mobile',\r\n\t// \timage: {\r\n\t// \t\tverticalFit: true\r\n\t// \t}\r\n    //\r\n\t// });\r\n\r\n});\r\n","// Модальные окна\r\n!function(e){\"function\"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),n=0;o[n]&&o[n]!==t;)++n;return Boolean(o[n])}),\"function\"!=typeof e.closest&&(e.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window.Element.prototype);\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    var modalButtons = document.querySelectorAll('.js-open-modal'),\r\n    overlay      = document.querySelector('.js-overlay-modal'),\r\n    closeButtons = document.querySelectorAll('.js-modal-close');\r\n    body          = document.querySelector('body'),\r\n    modalButtons.forEach(function(item){\r\n        item.addEventListener('click', function(e) {\r\n            e.preventDefault();\r\n            var modalId = this.getAttribute('data-modal'),\r\n            modalElem = document.querySelector('.modal[data-modal=\"' + modalId + '\"]');\r\n            modalElem.classList.add('active');\r\n            overlay.classList.add('active');\r\n            body.style.overflowY = 'hidden';\r\n        }); // end click\r\n    }); // end foreach\r\n    closeButtons.forEach(function(item){\r\n        item.addEventListener('click', function(e) {\r\n            var parentModal = this.closest('.modal');\r\n            parentModal.classList.remove('active');\r\n            overlay.classList.remove('active');\r\n            body.style.overflowY = '';\r\n        });\r\n    }); // end foreach\r\n    document.body.addEventListener('keyup', function (e) {\r\n        var key = e.keyCode;\r\n        if (key == 27) {\r\n            var modalActive = document.querySelector('.modal.active');\r\n            if ( modalActive ) {\r\n                document.querySelector('.modal.active').classList.remove('active');\r\n            }\r\n            document.querySelector('.overlay').classList.remove('active');\r\n            body.style.overflowY = '';\r\n        };\r\n    }, false);\r\n    overlay.addEventListener('click', function() {\r\n        var modalActive = document.querySelector('.modal.active');\r\n        if ( modalActive ) {\r\n            document.querySelector('.modal.active').classList.remove('active');\r\n        }\r\n        this.classList.remove('active');\r\n        body.style.overflowY = '';\r\n    });\r\n}); // end ready (Модальные окна)\r\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './js/generale.js';\r\nimport './js/popups.js';\r\n\r\n// Filtr\r\nimport './js/filtr/filtr-generale.js';\r\nimport './js/filtr/filtr-render.js';\r\n\r\n// scss\r\nimport './/scss/main.scss';\r\n"],"names":["filtrOptionsVision","filtrTitle","document","querySelectorAll","filtrItemOptions","length","forEach","item","addEventListener","e","classList","contains","nextElementSibling","toggle","children","keyCode","remove","optionsName","name","options","Pagination","code","Extend","data","size","page","step","globj","perPage","Add","s","f","i","Last","First","Click","innerHTML","Start","querySelector","style","display","glempAllPagin","slice","glempRender","Prev","Next","Bind","a","getElementsByTagName","className","Finish","Buttons","nav","Create","icon_prev","icon_next","html","join","Init","glempsAll","JSON","parse","glamping_club_ajax","glAll","glIt","window","innerWidth","perPageFullSt","Number","glc_per_page_full","pagesAbs","pages","Math","ceil","navLinks","perPageAllSt","glc_per_page_all","agc","allGlCount","innerText","localStorage","getItem","glampingsMap","locVal","typeVal","console","dir","filter","gl","location","includes","type","glempsAlls","mapRender","mapPointTest","removeItem","locationsArchive","glempAll","regionItem","locObj","locItem","location_id","location_slug","push","removeDuplicates","sort","b","localeCompare","countFiltrItem","ls","chek","count","elem","insertAdjacentHTML","concat","filtrStocks","stocksItem","stocksItemCount","stocksCount","stocks","add","filtrRecommended","recommendedItem","recommendedItemCount","recommendedCount","recommended","filtrTypeArchive","typeItem","typObj","makeUniqSort","filtrAllocationArchive","allocation","reduce","acc","_toConsumableArray","filtrWorkingArchive","working_mode_seasons","montsSort","filtrNatureArchive","nature_around","filtrFacilitiesGeneralArchive","facilities_general","filtrChildrenArchive","facilities_children","filtrErtainmentArchive","entertainment","filtrTerritoryArchive","territory","filtrSafetyArchive","safety","sliderNumber","startMin","startMax","min","max","slider","getElementById","minPriceInput","maxPriceInput","icon","noUiSlider","create","start","connect","range","sliderValueStart","get","setItem","map","on","numbFmt","Intl","NumberFormat","sliderValue","value","format","values","handle","toFixed","newgGlempAll","filtrOptionsChange","priceRange","sliderValueStartStr","sliderValueStr","names","inputs","itemsVal","isArraysEqual","parentElement","previousElementSibling","chekAllFitrs","firstArray","secondArray","toString","filtrItems","btnFiltrClear","countObj","checked","btn","removeAllFitrs","priceCount","priceSliderOption","sliderUpdatePrice","priceSliderRender","arr","pricesObj","priceMin","priceMax","price","apply","currPrice","split","currPriceMin","currPriceMax","stPriceMin","stPriceMax","updateOptions","priceObj","locationsById","n","_n$location_id","_acc$_n$location_id","getRandom","val","floor","random","Object","itemsChange","event","input","target","closest","glcType","glcAllocation","glcWorking","glcNature","glcFacilGen","glcFacilChildren","glcEntertainment","glcTerritory","glcSafety","glcPrice","glcPriceSt","glcStocks","glcRecom","newgGlempAllForFiltr","filtrOptionsChangeForFiltr","sortGl","Cookies","x","y","post_date","perPageAll","perPageFull","checkLocalCheng","dataset","newgnewgGlempAllForFiltrGempAll","glemAll","inputChecked","inputCheckedName","checkedName","makeUniq","elExists","some","el","lsName","filtrItemCount","ls_obj","ls_obj_new","lsf","ls_objf","countSelector","index","region","types","working","nature","facilGen","facilChildren","id","regionIncl","typesIncl","element","allocationIncl","workingIncl","natureIncl","facilGenIncl","facilChildrenIncl","entertainmentIncl","territoryIncl","safetyIncl","glemps","glampingsItems","glcFav","favoritesRenderFiltr","glcCompar","glemp","recRend","stocks_title","stocksRend","currFormat","clFav","clCompar","titleFav","titleCompar","media_urls","rating","reviews_stars_items_average","average_rating","count_rating","title","url","adress","sliderInit","Set","makeUniqNum","myGeeks","array","filtered","num","nf","minimumFractionDigits","maximumFractionDigits","monts","mont","glcFav_obj","sliderArchiveGlampings","mySl","Swiper","loop","navigation","nextEl","prevEl","pagination","clickable","sliders","sl","geoData","archiveGlampings","ymaps","ready","init","geoJson","zoomNum","yand_zoom","Map","center","zoom","controls","suppressMapOpenBlock","balloonPanelMaxMapArea","MyPanelContentLayout","templateLayoutFactory","createClass","objectManager","ObjectManager","clusterize","gridSize","clusters","set","preset","clusterIconColor","objects","iconLayout","iconImageHref","iconImageSize","iconImageOffset","geoObjects","balloonPanelContentLayout","features","setCenter","getBounds","checkZoomRange","setBounds","zoomMargin","useMapMargin","events","markerst","addFavorites","addComparison","supFavorites","supComparison","favoritesRenderNologin","postid","attributes","addFavoritesBtnSingle","mapFavComAction","addComparisonBtnSingle","swiper","slidesPerView","spaceBetween","breakpoints","balloon","close","filtrHidden","markersHover","glAllMap","btns","mainWidth","clientWidth","glLeft","glMap","filtr","btnHidden","height","mapWidth","width","container","getElement","fitToViewport","isRun","points","itemUrl","media","mi","media_url","thumb","img","thumbnail_url","mediaUrls","phoneGlamping","whatsupGlamping","bcb","bcbpDef","bcbp","coord","coordinates","geometry","properties","balloonContentBody","balloonContentBodyPan","clusterCaption","link","hintContent","iconContent","metadata","creator","description","refreshObjects","elementId","each","object","isActive","setObjectOptions","backObjects","glPosts","post","postId","markers","zIndex","count_otziv","star_full","star_aver","star_half","content","empty_stars","num_word","words","abs","listCardMap","btnMap","glWrap","archGlampingsLeft","archGlampingsLeftGlamp","glcfScroll","btnMapChange","newScrollbarGlCard","destroy","Scrollbar","sgc","alwaysShowTracks","listCardMapMobile","scrollIntoView","behavior","sortGlemp","filtrOptions","optionsChecked","sortGlempRender","addFavCom","favoritesBtns","comparisonBtns","singleGlampings","comparesMain","glcFavCount","localCheng","glcComparCount","buttonsFavChange","supСomparison","favoritesRender","btnType","paginateGlemp","glc_per_page","pagesCount","pagContent","pathname","createPagination","str","active","pageCutLow","pageCutHigh","p","navScroll","masthead","asideContent","btnFiltrVisionMobile","prevScrollpos","pageYOffset","onscroll","headHeight","currentScrollPos","offsetHeight","top","asideScroll","header","headerDiv","prevScroll","currentScroll","dashboardHeight","headerId","tabsTd","dashboardHead","tabs","logo","sidebarContent","ha","h","dashboardHeightPlus","footerId","dashboardFooter","sidebarNavVision","btnSidebarNav","sidebarNav","overlay","body","key","sidebarDashboardVision","filtrVision","btnfiltrVision","searchVision","btnsearchVision","search","jQuery","$","scrollToTop","pxShow","scrollSpeed","scroll","scrollTop","addClass","removeClass","animate","scrollAnimate","preventDefault","indent","attr","indent_top","offset","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","t","o","ownerDocument","Boolean","nodeType","parentNode","Element","prototype","modalButtons","closeButtons","modalId","getAttribute","modalElem","overflowY","parentModal","modalActive"],"sourceRoot":""}